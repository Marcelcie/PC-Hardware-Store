
====================
PLIK: style.css
====================
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f4f4f4;
  color: #333;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

a {
  text-decoration: none;
  color: inherit;
}

ul {
  list-style: none;
}

.form-group {
  margin-bottom: 20px;
  display: flex;
  flex-direction: column;
}
.form-group label {
  margin-bottom: 8px;
  font-weight: bold;
}

.input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
}
.input-wrapper input {
  width: 100%;
  padding: 12px 15px;
  padding-right: 45px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 16px;
  transition: border-color 0.2s;
}
.input-wrapper input:focus {
  border-color: #007bff;
  outline: none;
}
.input-wrapper i.toggle-password, .input-wrapper [id^=togglePassword] {
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: #999;
  cursor: pointer;
  z-index: 5;
}
.input-wrapper i.toggle-password:hover, .input-wrapper [id^=togglePassword]:hover {
  color: #007bff;
}

header {
  background-color: #ffffff;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 2px solid #333;
}
header .logo-link {
  font-size: 30px;
  color: #333;
}
header .search-bar {
  background-color: #ddd;
  display: flex;
  width: 100%;
  max-width: 700px;
  margin: 0 20px;
  border-radius: 4px;
  overflow: hidden;
  border: 1px solid black;
}
header .search-bar input {
  flex-grow: 1;
  padding: 12px 20px;
  border: none;
  background-color: #fff;
  font-size: 16px;
}
header .search-bar input::-moz-placeholder {
  color: #888;
}
header .search-bar input::placeholder {
  color: #888;
}
header .search-bar .search-btn {
  background-color: #007bff;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 25px;
  cursor: pointer;
  transition: background-color 0.2s;
}
header .search-bar .search-btn i {
  font-size: 22px;
  color: #000;
}
header .search-bar .search-btn:hover {
  background-color: rgb(0, 103.32, 214.2);
}
header .user-actions {
  font-size: 24px;
  display: flex;
  flex-direction: row;
}
header .user-actions a {
  margin-left: 15px;
  transition: color 0.3s;
}
header .user-actions a:hover {
  color: #007bff;
}

.layout-container {
  display: flex;
  max-width: none;
  width: 100%;
  margin: 20px 0;
  align-items: flex-start;
  padding: 0 40px;
  gap: 30px;
}
.layout-container .form-group-checkbox {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 12px;
  margin-top: 15px;
  cursor: pointer;
}
.layout-container .form-group-checkbox input {
  width: 20px;
  height: 20px;
  margin: 0;
  flex-shrink: 0;
  cursor: pointer;
}
.layout-container .form-group-checkbox label {
  margin: 0;
  cursor: pointer;
  font-size: 14px;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
}

.categories {
  flex: 0 0 250px;
  background: #ffffff;
  padding: 20px;
  border: 1px solid #ddd;
  height: -moz-fit-content;
  height: fit-content;
}
.categories h3 {
  border-bottom: 2px solid #333;
  margin-bottom: 15px;
  padding-bottom: 5px;
}
.categories ul li {
  margin-bottom: 10px;
}
.categories ul li a {
  display: block;
  padding: 5px;
}
.categories ul li a:hover {
  font-weight: bold;
  color: #007bff;
  padding-left: 5px;
  transition: 0.2s;
}

main {
  flex-grow: 1;
  min-width: 0;
}
main .section-title {
  margin-bottom: 20px;
}
main .product-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: flex-start;
  width: 100%;
}

.product-card {
  background: #ffffff;
  border: 1px solid #ddd;
  min-width: 250px;
  height: 100%;
  padding: 15px;
  width: calc(33.333% - 20px);
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.product-card:active {
  transform: translateY(-2px);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
  transition: 0.1s;
}
.product-card:hover {
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  transform: translateY(-5px);
  transition: 0.3s;
}
.product-card .card-link {
  display: block;
  text-align: center;
  margin-bottom: 10px;
}
.product-card .product-image {
  height: 150px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 15px;
}
.product-card .product-image img {
  max-width: 100%;
  max-height: 100%;
}
.product-card .product-title {
  font-size: 16px;
  color: #333;
  min-height: 40px;
}
.product-card .product-footer {
  margin-top: auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid #eee;
  padding-top: 10px;
}
.product-card .product-footer .price {
  font-weight: bold;
  font-size: 18px;
}
.product-card .product-footer .cart-btn {
  background-color: #007bff;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #000;
  border: none;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  font-size: 16px;
  cursor: pointer;
}
.product-card .product-footer .cart-btn:hover {
  background-color: rgb(0, 98.4, 204);
  color: #ffffff;
}

footer {
  background-color: #333;
  color: #ccc;
  margin-top: 50px;
  padding-top: 40px;
}
footer .footer-container {
  display: flex;
  justify-content: space-around;
  max-width: 1200px;
  margin: 0 auto;
  padding-bottom: 30px;
}
footer .footer-section h4 {
  color: #ffffff;
  margin-bottom: 15px;
}
footer .footer-section p, footer .footer-section a {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
}
footer .footer-section a:hover {
  color: #007bff;
}
footer .footer-section .social-icons a {
  display: inline-block;
  font-size: 20px;
  margin-right: 10px;
}
footer .footer-bottom {
  text-align: center;
  background: rgb(38.25, 38.25, 38.25);
  padding: 10px;
  font-size: 12px;
}

.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 60vh;
}

.login-box {
  background: #ffffff;
  padding: 40px;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  width: 100%;
  max-width: 400px;
  border: 1px solid #ddd;
}
.login-box label {
  margin-bottom: 8px;
  font-weight: bold;
}
.login-box h1 {
  text-align: center;
  margin-bottom: 30px;
  font-size: 24px;
}
.login-box .form-group {
  margin-bottom: 20px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.login-box input:not(.input-wrapper input):not([type=checkbox]) {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.login-btn {
  width: 100%;
  padding: 12px;
  background-color: #007bff;
  border: none;
  border-radius: 4px;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
}
.login-btn:hover {
  background-color: rgb(0, 98.4, 204);
}

.login-footer {
  margin-top: 25px;
  text-align: center;
  font-size: 14px;
}
.login-footer p {
  margin-bottom: 10px;
}
.login-footer a {
  color: #007bff;
}
.login-footer a:hover {
  text-decoration: underline;
}
.login-footer .forgot-password {
  color: #777;
  font-size: 13px;
}

.header-positioning {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
}
.header-positioning a, .header-positioning .spacer {
  width: 40px;
  display: flex;
  color: #333;
  font-size: 20px;
}
.header-positioning h1 {
  margin: 0;
  font-size: 24px;
  text-align: center;
  flex-grow: 1;
}
.header-positioning a:hover {
  color: #007bff;
  transform: translateX(-3px);
  transition: 0.2s;
}

.product-detail {
  display: flex;
  gap: 40px;
  background: #ffffff;
  padding: 30px;
  border-radius: 8px;
  border: 1px solid #ddd;
}
.product-detail .product-gallery {
  flex: 1;
}
.product-detail .product-gallery img {
  width: 100%;
  border-radius: 4px;
}
.product-detail .product-info {
  flex: 1;
}
.product-detail .product-info .breadcrumb {
  font-size: 13px;
  color: #777;
  margin-bottom: 10px;
}
.product-detail .product-info h1 {
  margin-bottom: 20px;
}
.product-detail .product-info .price-section {
  margin: 20px 0;
}
.product-detail .product-info .price-section .price-value {
  font-size: 32px;
  font-weight: bold;
  color: #333;
}
.product-detail .product-info .price-section .availability {
  color: #28a745;
  margin-left: 15px;
}
.product-detail .product-info .purchase-section {
  display: flex;
  gap: 15px;
  margin-bottom: 30px;
}
.product-detail .product-info .purchase-section .quantity-selector {
  display: flex;
  border: 1px solid #ddd;
  border-radius: 4px;
}
.product-detail .product-info .purchase-section .quantity-selector input {
  width: 50px;
  text-align: center;
  border: none;
}
.product-detail .product-info .purchase-section .quantity-selector button {
  padding: 10px 15px;
  background: none;
  border: none;
  cursor: pointer;
}
.product-detail .product-info .purchase-section .quantity-selector button:hover {
  background: #eee;
}
.product-detail .product-info .add-to-cart-big {
  flex-grow: 1;
  background-color: #007bff;
  border: none;
  font-weight: bold;
  padding: 15px;
  cursor: pointer;
  transition: 0.3s;
}
.product-detail .product-info .add-to-cart-big:hover {
  background-color: rgb(0, 98.4, 204);
}

.footer-minimal {
  margin-top: auto;
  padding: 40px 0;
  text-align: center;
  border-top: 1px solid #eee;
  color: #888;
}
.footer-minimal .footer-minimal-content {
  max-width: 600px;
  margin: 0 auto;
}
.footer-minimal .footer-links {
  margin-bottom: 15px;
}
.footer-minimal .footer-links a {
  font-size: 14px;
  color: #666;
  text-decoration: none;
  transition: color 0.3s;
}
.footer-minimal .footer-links a:hover {
  color: #007bff;
  text-decoration: underline;
}
.footer-minimal .footer-links .separator {
  margin: 0 10px;
  color: #ddd;
}
.footer-minimal .copyright {
  font-size: 12px;
}

.cart-page h1 {
  margin-bottom: 30px;
}

.cart-content {
  display: flex;
  gap: 30px;
  align-items: flex-start;
}

.cart-table {
  flex-grow: 1;
  background: #ffffff;
  border-collapse: collapse;
  border: 1px solid #ddd;
}
.cart-table th {
  background: #f8f8f8;
  padding: 15px;
  text-align: left;
  border-bottom: 2px solid #ddd;
}
.cart-table td {
  padding: 20px 15px;
  border-bottom: 1px solid #eee;
  vertical-align: middle;
}
.cart-table .product-img img {
  border-radius: 4px;
}
.cart-table .product-name a {
  font-weight: bold;
}
.cart-table .product-name a:hover {
  color: #007bff;
}
.cart-table .sku {
  font-size: 12px;
  color: #999;
  margin-top: 5px;
}
.cart-table .product-remove button {
  background: none;
  border: none;
  color: #ff4d4d;
  cursor: pointer;
  font-size: 18px;
}
.cart-table .product-remove button:hover {
  color: rgb(255, 0.5, 0.5);
}

.cart-summary {
  width: 350px;
  position: sticky;
  top: 20px;
}
.cart-summary .summary-box {
  background: #ffffff;
  padding: 25px;
  border: 1px solid #ddd;
  border-radius: 8px;
}
.cart-summary .summary-box h3 {
  margin-bottom: 20px;
  border-bottom: 1px solid #ddd;
  padding-bottom: 10px;
}
.cart-summary .summary-box .summary-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  color: #666;
}
.cart-summary .summary-box .summary-total {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 2px solid #f4f4f4;
  font-weight: bold;
  font-size: 20px;
  color: #333;
}
.cart-summary .summary-box .checkout-btn {
  width: 100%;
  background: #007bff;
  color: #000;
  border: none;
  padding: 15px;
  font-weight: bold;
  margin: 25px 0 15px;
  cursor: pointer;
  border-radius: 4px;
}
.cart-summary .summary-box .checkout-btn:hover {
  background: rgb(0, 98.4, 204);
}
.cart-summary .summary-box .continue-shopping {
  display: block;
  text-align: center;
  font-size: 14px;
  color: #777;
}
.cart-summary .summary-box .continue-shopping:hover {
  text-decoration: underline;
}

.checkout-wrapper {
  width: 100%;
}
.checkout-wrapper .back-link {
  display: inline-block;
  margin-bottom: 20px;
  color: #007bff;
  text-decoration: underline;
  font-size: 14px;
}

.checkout-grid {
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 30px;
  align-items: start;
}

.checkout-box {
  background: #ffffff;
  border-radius: 10px;
  padding: 30px;
  border: 1px solid #000;
}
.checkout-box h2 {
  text-align: center;
  font-size: 18px;
  margin-bottom: 30px;
  letter-spacing: 1px;
}
.checkout-box input {
  padding: 10px;
  border: 1px solid #000;
  border-radius: 7px;
  margin-bottom: 15px;
  font-family: inherit;
}
.checkout-box input.full-width {
  width: 100%;
}
.checkout-box .form-row {
  display: flex;
  gap: 15px;
  margin-bottom: 15px;
}
.checkout-box .form-row input {
  flex: 1;
  margin-bottom: 0;
}
.checkout-box .divider {
  border-top: 1px dashed #ccc;
  margin: 10px 0 25px;
}
.checkout-box .input-with-icon {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
}
.checkout-box .input-with-icon i {
  position: absolute;
  right: 10px;
  color: #777;
  cursor: help;
}

.summary-card {
  border: 1px solid #000;
  border-radius: 10px;
  padding: 20px;
  background: #fff;
}
.summary-card .price-summary {
  padding-bottom: 20px;
  border-bottom: 2px solid #000;
  margin-bottom: 20px;
}
.summary-card .price-summary .s-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}
.summary-card .price-summary .s-row.total {
  font-weight: bold;
  font-size: 18px;
  margin-top: 10px;
}
.summary-card .payment-section {
  margin-bottom: 30px;
}
.summary-card .payment-section h4 {
  margin-bottom: 15px;
}
.summary-card .payment-section label {
  display: block;
  margin-bottom: 12px;
  cursor: pointer;
}
.summary-card .submit-order-btn {
  width: 100%;
  padding: 15px;
  background: #fff;
  border: 2px solid #000;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.2s;
}
.summary-card .submit-order-btn:hover {
  background: #f4f4f4;
  transform: translateY(-2px);
}

.custom-radio, .custom-checkbox {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  font-size: 14px;
}
.custom-radio input, .custom-checkbox input {
  margin: 0;
  line-height: 1;
  display: inline-block;
}

.account-container {
  display: flex;
  gap: 30px;
  margin-top: 20px;
}

.account-sidebar {
  width: 280px;
  background: #fff;
  border: 1px solid #000;
  padding: 20px;
  height: -moz-fit-content;
  height: fit-content;
}
.account-sidebar .user-welcome {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 25px;
}
.account-sidebar .user-welcome i {
  font-size: 40px;
  color: #333;
}
.account-sidebar .user-welcome .user-id {
  font-size: 12px;
  color: #777;
  margin: 0;
}
.account-sidebar .account-nav {
  display: flex;
  flex-direction: column;
  gap: 5px;
}
.account-sidebar .account-nav a {
  padding: 12px;
  text-decoration: none;
  color: #333;
  display: flex;
  align-items: center;
  gap: 10px;
  border-radius: 4px;
  transition: 0.2s;
}
.account-sidebar .account-nav a:hover, .account-sidebar .account-nav a.active {
  background: #f4f4f4;
  font-weight: bold;
}
.account-sidebar .account-nav a.logout {
  color: #d9534f;
  margin-top: 10px;
}

.account-content {
  flex: 1;
  background: #fff;
  border: 1px solid #000;
  padding: 30px;
}
.account-content h1 {
  margin-bottom: 25px;
  font-size: 24px;
}
.account-content .orders-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 40px;
}
.account-content .orders-table th, .account-content .orders-table td {
  text-align: left;
  padding: 15px;
  border-bottom: 1px solid #eee;
}
.account-content .orders-table a.details-link {
  color: #333;
  display: inline-block;
  transition: color 0.2s ease-in-out;
}
.account-content .orders-table a.details-link:hover {
  color: #007bff;
}
.account-content .orders-table .status {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: bold;
}
.account-content .orders-table .status.shipped {
  background: #fff3cd;
  color: #856404;
}
.account-content .orders-table .status.delivered {
  background: #d4edda;
  color: #155724;
}

.qty-control {
  display: flex;
  align-items: center;
  border: 1px solid #ddd;
  background-color: #fff;
  border-radius: 4px;
  width: -moz-fit-content;
  width: fit-content;
  overflow: hidden;
}
.qty-control button {
  background: transparent;
  border: none;
  padding: 10px 15px;
  cursor: pointer;
  font-size: 18px;
  color: #333;
  transition: background-color 0.2s, color 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.qty-control button:hover {
  background-color: #f0f0f0;
  color: #007bff;
}
.qty-control input {
  width: 50px;
  text-align: center;
  border: none;
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  padding: 10px 0;
  font-size: 16px;
  font-weight: bold;
  color: #333;
  outline: none;
  -webkit-appearance: none;
          appearance: none;
  -moz-appearance: textfield;
}
.qty-control input::-webkit-outer-spin-button, .qty-control input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

#toast-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
}

.toast {
  background-color: #333;
  color: #fff;
  padding: 12px 25px;
  border-radius: 8px;
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border-left: 4px solid #007bff;
  animation: slideIn 0.3s ease-out forwards;
}
.toast i {
  color: #007bff;
  font-size: 1.1em;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}
.toast.fade-out {
  animation: slideOut 0.3s ease-in forwards;
}

@keyframes slideOut {
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}
.cart-link {
  position: relative;
  display: flex;
  align-items: center;
  text-decoration: none;
  color: #333;
}
.cart-link i {
  font-size: 24px;
}
.cart-link .cart-count {
  position: absolute;
  bottom: -5px;
  left: -8px;
  background-color: #007bff;
  color: white;
  font-size: 11px;
  font-weight: bold;
  min-width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2px;
  border: 2px solid #ffffff;
}

.cookie-banner {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: #222;
  color: #fff;
  padding: 20px 0;
  z-index: 10000;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
  animation: slideUp 0.5s ease-out;
}
.cookie-banner .cookie-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  gap: 20px;
}
.cookie-banner .cookie-content p {
  margin: 0;
  font-size: 14px;
  line-height: 1.5;
}
.cookie-banner .cookie-content p a {
  color: #007bff;
  text-decoration: underline;
}
.cookie-banner .cookie-content .btn-accept {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 25px;
  border-radius: 5px;
  cursor: pointer;
  font-weight: bold;
  transition: opacity 0.3s;
  white-space: nowrap;
}
.cookie-banner .cookie-content .btn-accept:hover {
  opacity: 0.9;
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}
@media (max-width: 768px) {
  header {
    flex-wrap: wrap;
    padding: 10px;
    gap: 10px;
  }
  header .search-bar {
    order: 3;
    width: 100%;
    margin: 0;
  }
  header .user-actions {
    gap: 15px;
  }
  .layout-container {
    flex-direction: column;
    padding: 10px;
  }
  .categories {
    width: 100%;
    margin-bottom: 20px;
  }
  .categories ul {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    padding-bottom: 10px;
  }
  .categories ul li {
    margin: 0 10px 0 0;
  }
}
@media (max-width: 768px) {
  .cart-page .cart-content {
    flex-direction: column;
  }
  .cart-page .cart-table thead {
    display: none;
  }
  .cart-page .cart-table, .cart-page .cart-table tbody, .cart-page .cart-table tr, .cart-page .cart-table td {
    display: block;
    width: 100%;
  }
  .cart-page .cart-table tr {
    border-bottom: 2px solid #eee;
    padding: 15px 0;
    position: relative;
  }
  .cart-page .cart-table td {
    text-align: right;
    padding: 5px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .cart-page .cart-table td::before {
    content: attr(data-label);
    font-weight: bold;
    text-align: left;
  }
  .cart-page .cart-table td.product-img {
    justify-content: center;
  }
  .cart-page .cart-table td.product-img::before {
    content: "";
  }
  .cart-page .cart-table td.product-img img {
    width: 120px;
    height: auto;
  }
  .cart-page .product-remove {
    position: absolute;
    top: 10px;
    right: 0;
  }
  .cart-page .product-remove::before {
    content: "";
  }
  .cart-summary {
    width: 100%;
    margin-top: 20px;
  }
}
.checkout-stepper {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 40px;
  gap: 15px;
}
.checkout-stepper .step {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #ccc;
  font-weight: bold;
}
.checkout-stepper .step.active {
  color: #007bff;
}
.checkout-stepper .step.active .step-num {
  background-color: #007bff;
  color: white;
}
.checkout-stepper .step .step-num {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: #eee;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 14px;
}
.checkout-stepper .step-line {
  height: 2px;
  width: 50px;
  background-color: #eee;
}

#back-to-top {
  position: fixed;
  display: none;
  justify-content: center;
  align-items: center;
  bottom: 30px;
  right: 30px;
  width: 50px;
  height: 50px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  z-index: 1000;
  transition: transform 0.3s;
}
#back-to-top:hover {
  transform: scale(1.1);
}

.advanced-filters {
  margin-top: 25px;
  padding-top: 15px;
  border-top: 1px solid #eee;
}

.filter-group {
  margin-bottom: 15px;
}

.select-sort {
  margin-bottom: 15px;
}

.select-sort select {
  width: 100%;
  padding: 5px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.select-sort label {
  display: block;
  font-size: 14px;
  margin-bottom: 5px;
}

.filter-group label {
  display: block;
  font-size: 14px;
  margin-bottom: 5px;
}

.price-inputs {
  display: flex;
  gap: 5px;
}

.price-inputs input {
  width: 50%;
  padding: 5px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.btn-filter {
  width: 100%;
  background: #007bff;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
}

.filter-select {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background-color: #fff;
  font-size: 14px;
  cursor: pointer;
  outline: none;
  transition: border-color 0.3s;
}

.filter-select:focus {
  border-color: #007bff;
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}

/* --- PODSUMOWANIE ZAMÓWIENIA (CHECKOUT) --- */
.checkout-layout {
  display: flex;
  gap: 30px;
  align-items: flex-start;
}

.checkout-left {
  flex: 2;
}

.checkout-right {
  flex: 1;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 20px;
  position: sticky;
  top: 20px;
}

/* Karta adresu domyślnego */
.default-address-card {
  background: #f9f9f9;
  border: 2px solid #007bff;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  position: relative;
}

.default-address-card h3 {
  margin-bottom: 10px;
  color: #007bff;
  font-size: 18px;
}

.default-address-card p {
  line-height: 1.5;
  color: #333;
  margin-bottom: 15px;
}

.address-actions {
  display: flex;
  gap: 10px;
}

.btn-small {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  border: 1px solid #ddd;
  background: #fff;
  transition: 0.2s;
}

.btn-small:hover {
  background: #eee;
}

.btn-small.delete {
  color: red;
  border-color: #ffcccc;
}

.btn-small.delete:hover {
  background: #ffe6e6;
}

.separator-text {
  text-align: center;
  margin: 20px 0;
  font-weight: bold;
  color: #999;
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 1px;
}

.btn-toggle-form {
  width: 100%;
  padding: 10px;
  background-color: #fff;
  border: 2px dashed #aaa;
  color: #555;
  font-weight: bold;
  cursor: pointer;
  margin-bottom: 20px;
  transition: 0.2s;
}

.btn-toggle-form:hover {
  border-color: #007bff;
  color: #007bff;
  background-color: #f0f8ff;
}

/* Mini koszyk po prawej */
.mini-cart-item {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid #eee;
}

.mini-cart-item img {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 4px;
}

.mini-cart-info {
  flex: 1;
}

.mini-cart-title {
  font-size: 13px;
  font-weight: bold;
  margin-bottom: 3px;
  display: block;
}

.mini-cart-meta {
  font-size: 12px;
  color: #777;
}

.mini-cart-total {
  margin-top: 20px;
  padding-top: 10px;
  border-top: 2px solid #333;
  display: flex;
  justify-content: space-between;
  font-weight: bold;
  font-size: 18px;
}

@media (max-width: 768px) {
  .checkout-layout {
    flex-direction: column-reverse; /* Koszyk na górę lub dół w zależności od preferencji */
  }
  .checkout-right {
    width: 100%;
    position: static;
  }
}

====================
PLIK: style.css.map
====================
{"version":3,"sources":["style.scss","style.css"],"names":[],"mappings":"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","file":"style.css"}

====================
PLIK: style.scss
====================
$primary-color: #007bff;   
$text-color: #333;         
$bg-color: #f4f4f4;       
$white: #ffffff;
$border: #ddd;


* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: Arial, sans-serif;
    background-color: $bg-color;
    color: $text-color;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

a {
    text-decoration: none;
    color: inherit;
}

ul {
    list-style: none;
}
.form-group {
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    
    label {
        margin-bottom: 8px;
        font-weight: bold;
    }
}

.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;

    input {
        width: 100%;
        padding: 12px 15px;
        padding-right: 45px;
        border: 1px solid $border;
        border-radius: 6px;
        font-size: 16px;
        transition: border-color 0.2s;

        &:focus {
            border-color: $primary-color;
            outline: none;
        }
    }

    i.toggle-password, [id^="togglePassword"] {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #999;
        cursor: pointer;
        z-index: 5;
        
        &:hover {
            color: $primary-color;
        }
    }
}

header {
    background-color: $white;
    padding: 15px 20px;
    display: flex; 
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid $text-color;

    .logo-link {
        font-size: 30px;
        color: $text-color;
    }

    .search-bar {
    background-color:#ddd;
    display: flex;    
    width: 100%;
    max-width: 700px;     
    margin: 0 20px;         
    border-radius: 4px;     
    overflow: hidden;       
    border: 1px solid black;

    input {
        flex-grow: 1;    
        padding: 12px 20px; 
        border: none;     
        background-color: #fff; 
        font-size: 16px;

        &::placeholder {
            color: #888;    
        }
    }


    .search-btn {
        background-color: $primary-color; 
        display: flex;
        align-items: center;    
        justify-content: center;   
        padding: 0 25px;           
        cursor: pointer;          
        transition: background-color 0.2s; 

        i {
            font-size: 22px;   
            color: #000;    
        }

        &:hover {
            background-color: darken($primary-color, 8%); 
        }
    }
}

    .user-actions { 
        font-size: 24px;
        display: flex;
        flex-direction: row;
        
        a {
            margin-left: 15px;
            transition: color 0.3s;

            &:hover {
                color: $primary-color;
            }
        }
    }
}


.layout-container {
    display: flex;         
    max-width: none;
    width: 100%;
    margin: 20px 0; 
    align-items: flex-start;      
    padding: 0 40px;
    gap: 30px;   
.form-group-checkbox {
        display: flex;         
        align-items: center;   
        justify-content: flex-start; 
        gap: 12px;
        margin-top: 15px;
        cursor: pointer;

        input {
            width: 20px;       
            height: 20px;      
            margin: 0;       
            flex-shrink: 0; 
            cursor: pointer;
        }

        label {
            margin: 0;
            cursor: pointer;
            font-size: 14px;
            user-select: none;
        }
    }
}

.categories {
    flex: 0 0 250px;       
    background: $white;
    padding: 20px;
    border: 1px solid $border;
    height: fit-content;

    h3 {
        border-bottom: 2px solid $text-color;
        margin-bottom: 15px;
        padding-bottom: 5px;
    }

    ul li {
        margin-bottom: 10px;
        
        a {
            display: block;
            padding: 5px;
            
            &:hover {
                font-weight: bold;
                color: $primary-color;
                padding-left: 5px; 
                transition: 0.2s;
            }
        }
    }
}


main {
    flex-grow: 1;
    min-width: 0;

    .section-title {
        margin-bottom: 20px;
    }

    .product-grid {
    display: flex;
    flex-wrap: wrap;       
    gap: 20px;        
    justify-content: flex-start; 
    width: 100%;
}
}


.product-card {
    background: $white;
    border: 1px solid $border;
    min-width: 250px;
    height: 100%;
    padding: 15px;
    width: calc(33.333% - 20px);
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    &:active {
        transform: translateY(-2px);
        box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        transition: 0.1s;
    }
    &:hover {
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transform: translateY(-5px);
        transition: 0.3s;
    }

    .card-link {
        display: block;
        text-align: center;
        margin-bottom: 10px;
    }

    .product-image {
        height: 150px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 15px;
        
        img {
            max-width: 100%;
            max-height: 100%;
        }
    }

    .product-title {
        font-size: 16px;
        color: $text-color;
        min-height: 40px;
    }

    .product-footer {
        margin-top: auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: 1px solid #eee;
        padding-top: 10px;

        .price {
            font-weight: bold;
            font-size: 18px;
        }

        .cart-btn {
            background-color: $primary-color;
            display: flex; 
            justify-content: center;
            align-items: center;
            color: #000;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 16px;
            cursor: pointer;
            
            &:hover {
                background-color: darken($primary-color, 10%);
                color: $white;
            }
        }
    }
}

footer {
    background-color: $text-color;
    color: #ccc;
    margin-top: 50px;
    padding-top: 40px;

    .footer-container {
        display: flex;
        justify-content: space-around;
        max-width: 1200px;
        margin: 0 auto;
        padding-bottom: 30px;
    }

    .footer-section {
        h4 { color: $white; margin-bottom: 15px; }
        
        p, a { 
            display: block; 
            margin-bottom: 8px; 
            font-size: 14px;
        }

        a:hover { color: $primary-color; }
        
        .social-icons a {
            display: inline-block;
            font-size: 20px;
            margin-right: 10px;
        }
    }

    .footer-bottom {
        text-align: center;
        background: darken($text-color, 5%);
        padding: 10px;
        font-size: 12px;
    }
}

.login-container {
    display: flex;
    justify-content: center; 
    align-items: center;     
    min-height: 60vh;        
}

.login-box {
    background: $white;
    padding: 40px;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 400px;
    border: 1px solid $border;

    label {
            margin-bottom: 8px;
            font-weight: bold;
        }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        font-size: 24px;
    }

    .form-group {
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    }
    
    input:not(.input-wrapper input):not([type="checkbox"]) {
    width: 100%;
    padding: 12px;
    border: 1px solid $border;
    border-radius: 4px;
}
}

    .login-btn {
        width: 100%;
        padding: 12px;
        background-color: $primary-color;
        border: none;
        border-radius: 4px;
        font-weight: bold;
        font-size: 16px;
        cursor: pointer;
        transition: 0.3s;

        &:hover {
            background-color: darken($primary-color, 10%);
        }
    }

    .login-footer {
        margin-top: 25px;
        text-align: center;
        font-size: 14px;

        p { margin-bottom: 10px; }

        a {
            color: $primary-color;
            &:hover { text-decoration: underline; }
        }

        .forgot-password {
            color: #777;
            font-size: 13px;
        }
    }
.header-positioning {
    display: flex;
    justify-content: space-between; 
    align-items: center;  
    margin-bottom: 30px;

    a, .spacer {
        width: 40px;
        display: flex;
        color: $text-color;
        font-size: 20px;
    }

    h1 {
        margin: 0;
        font-size: 24px;
        text-align: center;
        flex-grow: 1;
    }
    
    a:hover {
        color: $primary-color;
        transform: translateX(-3px);
        transition: 0.2s;
    }
}
.product-detail {
    display: flex;
    gap: 40px;
    background: $white;
    padding: 30px;
    border-radius: 8px;
    border: 1px solid $border;

    .product-gallery {
        flex: 1;
        img {
            width: 100%;
            border-radius: 4px;
        }
    }

    .product-info {
        flex: 1;

        .breadcrumb {
            font-size: 13px;
            color: #777;
            margin-bottom: 10px;
        }

        h1 { margin-bottom: 20px; }

        .price-section {
            margin: 20px 0;
            .price-value {
                font-size: 32px;
                font-weight: bold;
                color: $text-color;
            }
            .availability {
                color: #28a745;
                margin-left: 15px;
            }
        }

        .purchase-section {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;

            .quantity-selector {
                display: flex;
                border: 1px solid $border;
                border-radius: 4px;
                input {
                    width: 50px;
                    text-align: center;
                    border: none;
                }
                button {
                    padding: 10px 15px;
                    background: none;
                    border: none;
                    cursor: pointer;
                    &:hover { background: #eee; }
                }
            }
        }

        .add-to-cart-big {
            flex-grow: 1;
            background-color: $primary-color;
            border: none;
            font-weight: bold;
            padding: 15px;
            cursor: pointer;
            transition: 0.3s;
            &:hover { background-color: darken($primary-color, 10%); }
        }
    }
}
.footer-minimal {
    margin-top: auto;
    padding: 40px 0;
    text-align: center;
    border-top: 1px solid #eee; 
    color: #888;       

    .footer-minimal-content {
        max-width: 600px;
        margin: 0 auto;
    }

    .footer-links {
        margin-bottom: 15px;

        a {
            font-size: 14px;
            color: #666;
            text-decoration: none;
            transition: color 0.3s;

            &:hover {
                color: $primary-color;
                text-decoration: underline;
            }
        }

        .separator {
            margin: 0 10px;
            color: #ddd;
        }
    }

    .copyright {
        font-size: 12px;
    }
}
.cart-page {
    h1 { margin-bottom: 30px; }
}

.cart-content {
    display: flex;
    gap: 30px;
    align-items: flex-start;
}

.cart-table {
    flex-grow: 1;
    background: $white;
    border-collapse: collapse;
    border: 1px solid $border;
    
    th {
        background: #f8f8f8;
        padding: 15px;
        text-align: left;
        border-bottom: 2px solid $border;
    }

    td {
        padding: 20px 15px;
        border-bottom: 1px solid #eee;
        vertical-align: middle; 
    }

    .product-img img { border-radius: 4px; }
    .product-name a { font-weight: bold; &:hover { color: $primary-color; } }
    .sku { font-size: 12px; color: #999; margin-top: 5px; }

    .product-remove button {
        background: none;
        border: none;
        color: #ff4d4d;
        cursor: pointer;
        font-size: 18px;
        &:hover { color: darken(#ff4d4d, 15%); }
    }
}

.cart-summary {
    width: 350px;
    position: sticky;
    top: 20px;

    .summary-box {
        background: $white;
        padding: 25px;
        border: 1px solid $border;
        border-radius: 8px;

        h3 { margin-bottom: 20px; border-bottom: 1px solid $border; padding-bottom: 10px; }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #666;
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid $bg-color;
            font-weight: bold;
            font-size: 20px;
            color: $text-color;
        }

        .checkout-btn {
            width: 100%;
            background: $primary-color;
            color: #000;
            border: none;
            padding: 15px;
            font-weight: bold;
            margin: 25px 0 15px;
            cursor: pointer;
            border-radius: 4px;
            &:hover { background: darken($primary-color, 10%); }
        }

        .continue-shopping {
            display: block;
            text-align: center;
            font-size: 14px;
            color: #777;
            &:hover { text-decoration: underline; }
        }
    }
}
.checkout-wrapper {
    width: 100%;
    
    .back-link {
        display: inline-block;
        margin-bottom: 20px;
        color: $primary-color;
        text-decoration: underline;
        font-size: 14px;
    }
}

.checkout-grid {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 30px;
    align-items: start;
}

.checkout-box {
    background: $white;
    border-radius: 10px;
    padding: 30px;
    border: 1px solid #000; 
    
    h2 {
        text-align: center;
        font-size: 18px;
        margin-bottom: 30px;
        letter-spacing: 1px;
    }

    input {
        padding: 10px;
        border: 1px solid #000;
        border-radius: 7px;
        margin-bottom: 15px;
        font-family: inherit;
        
        &.full-width { width: 100%; }
    }

    .form-row {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
        input { flex: 1; margin-bottom: 0; }
    }

    .divider {
        border-top: 1px dashed #ccc;
        margin: 10px 0 25px;
    }

    .input-with-icon {
        flex: 1;
        position: relative;
        display: flex;
        align-items: center;
        i { position: absolute; right: 10px; color: #777; cursor: help; }
    }
}

.summary-card {
    border: 1px solid #000;
    border-radius: 10px;
    padding: 20px;
    background: #fff;

    .price-summary {
        padding-bottom: 20px;
        border-bottom: 2px solid #000;
        margin-bottom: 20px;

        .s-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            &.total { font-weight: bold; font-size: 18px; margin-top: 10px; }
        }
    }

    .payment-section {
        margin-bottom: 30px;
        h4 { margin-bottom: 15px; }
        label { display: block; margin-bottom: 12px; cursor: pointer; }
    }

    .submit-order-btn {
        width: 100%;
        padding: 15px;
        background: #fff;
        border: 2px solid #000;
        border-radius: 10px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.2s;
        &:hover { background: #f4f4f4; transform: translateY(-2px); }
    }
}

.custom-radio, .custom-checkbox {
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    font-size: 14px;
    input { 
        margin: 0;
        line-height: 1;
        display: inline-block;
    }
}
.account-container {
    display: flex;
    gap: 30px;
    margin-top: 20px;
}

.account-sidebar {
    width: 280px;
    background: #fff;
    border: 1px solid #000;
    padding: 20px;
    height: fit-content;

    .user-welcome {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 25px;
        i { font-size: 40px; color: #333; }
        .user-id { font-size: 12px; color: #777; margin: 0; }
    }

    .account-nav {
        display: flex;
        flex-direction: column;
        gap: 5px;

        a {
            padding: 12px;
            text-decoration: none;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
            border-radius: 4px;
            transition: 0.2s;

            &:hover, &.active {
                background: #f4f4f4;
                font-weight: bold;
            }

            &.logout { color: #d9534f; margin-top: 10px; }
        }
    }
}

.account-content {
    flex: 1;
    background: #fff;
    border: 1px solid #000;
    padding: 30px;

    h1 { margin-bottom: 25px; font-size: 24px; }

    .orders-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 40px;

        th, td {
            text-align: left;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        a.details-link {
        color: $text-color;
        display: inline-block; 
        transition: color 0.2s ease-in-out;
            &:hover {
                color: $primary-color;
            }
        } 

        .status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            
            &.shipped { background: #fff3cd; color: #856404; }
            &.delivered { background: #d4edda; color: #155724; }
        }
    }
}
.qty-control {
    display: flex;
    align-items: center;
    border: 1px solid $border;
    background-color: #fff;
    border-radius: 4px;
    width: fit-content;
    overflow: hidden;

    button {
        background: transparent;
        border: none;
        padding: 10px 15px;
        cursor: pointer;
        font-size: 18px;
        color: $text-color;
        transition: background-color 0.2s, color 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;

        &:hover {
            background-color: #f0f0f0;
            color: $primary-color;
        }
    }

    input {
        width: 50px;
        text-align: center;
        border: none;
        border-left: 1px solid $border;
        border-right: 1px solid $border;
        padding: 10px 0;
        font-size: 16px;
        font-weight: bold;
        color: $text-color;
        outline: none;

        appearance: none;
        -moz-appearance: textfield;
        &::-webkit-outer-spin-button,
        &::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    }
}
#toast-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
}

.toast {
    background-color: #333; 
    color: #fff;
    padding: 12px 25px;
    border-radius: 8px;
    margin-top: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    border-left: 4px solid $primary-color; 
    
    
    animation: slideIn 0.3s ease-out forwards;

    i {
        color: $primary-color;
        font-size: 1.1em;
    }
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.toast.fade-out {
    animation: slideOut 0.3s ease-in forwards;
}

@keyframes slideOut {
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}
.cart-link {
    position: relative; 
    display: flex;
    align-items: center;
    text-decoration: none;
    color: $text-color;

    i {
        font-size: 24px;
    }

    .cart-count {
        position: absolute;
        bottom: -5px;  
        left: -8px;    
        background-color: $primary-color; 
        color: white;
        font-size: 11px;
        font-weight: bold;
        min-width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2px;
        border: 2px solid $white;
    }
}
.cookie-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: #222;
    color: #fff;
    padding: 20px 0;
    z-index: 10000;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
    animation: slideUp 0.5s ease-out;

    .cookie-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
        gap: 20px;

        p {
            margin: 0;
            font-size: 14px;
            line-height: 1.5;
            
            a {
                color: $primary-color;
                text-decoration: underline;
            }
        }

        .btn-accept {
            background-color: $primary-color;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: opacity 0.3s;
            white-space: nowrap;

            &:hover {
                opacity: 0.9;
            }
        }
    }
}

@keyframes slideUp {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
}


$breakpoint-mobile: 768px;

@media (max-width: $breakpoint-mobile) {
    header {
        flex-wrap: wrap; 
        padding: 10px;
        gap: 10px;

        .search-bar {
            order: 3; 
            width: 100%;
            margin: 0;
        }

        .user-actions {
            gap: 15px;
        }
    }

    .layout-container {
        flex-direction: column;
        padding: 10px;
    }

    .categories {
        width: 100%;
        margin-bottom: 20px;
        
        ul {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            padding-bottom: 10px;
            
            li {
                margin: 0 10px 0 0;
            }
        }
    }
}
@media (max-width: $breakpoint-mobile) {
    .cart-page {
        .cart-content {
            flex-direction: column;
        }
        .cart-table thead {
            display: none;
        }

        .cart-table, .cart-table tbody, .cart-table tr, .cart-table td {
            display: block;
            width: 100%;
        }

        .cart-table tr {
            border-bottom: 2px solid #eee;
            padding: 15px 0;
            position: relative;
        }

        .cart-table td {
            text-align: right; 
            padding: 5px 0;
            display: flex;
            justify-content: space-between; 
            align-items: center;

            &::before {
                content: attr(data-label); 
                font-weight: bold;
                text-align: left;
            }
        }

        .cart-table td.product-img {
            justify-content: center;
            &::before { content: ""; } 
            img { width: 120px; height: auto; }
        }

        .product-remove {
            position: absolute;
            top: 10px;
            right: 0;
            &::before { content: ""; }
        }
    }

    .cart-summary {
        width: 100%;
        margin-top: 20px;
    }
}
.checkout-stepper {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 40px;
    gap: 15px;

    .step {
        display: flex;
        align-items: center;
        gap: 10px;
        color: #ccc;
        font-weight: bold;

        &.active {
            color: $primary-color;
            .step-num {
                background-color: $primary-color;
                color: white;
            }
        }

        .step-num {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #eee;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
        }
    }

    .step-line {
        height: 2px;
        width: 50px;
        background-color: #eee;
    }
}
#back-to-top {
    position: fixed;
    display: none;           
    justify-content: center;
    align-items: center;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    background-color: $primary-color;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    z-index: 1000;
    transition: transform 0.3s;

    &:hover {
        transform: scale(1.1);
    }
}
.advanced-filters {
    margin-top: 25px;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.filter-group {
    margin-bottom: 15px;
}

.filter-group label {
    display: block;
    font-size: 14px;
    margin-bottom: 5px;
}

.price-inputs {
    display: flex;
    gap: 5px;
}

.price-inputs input {
    width: 50%;
    padding: 5px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.btn-filter {
    width: 100%;
    background: $primary-color;
    color: white;
    border: none;
    padding: 10px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}
.filter-select {
    width: 100%;       
    padding: 10px;    
    border: 1px solid #ddd;
    border-radius: 6px;     
    background-color: #fff;
    font-size: 14px;
    cursor: pointer;
    outline: none;
    transition: border-color 0.3s;
}


.filter-select:focus {
    border-color: #007bff;
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}

/* --- BUTTON RESETOWANIA FILTRÓW --- */
.reset-container {
  text-align: center;
  margin-top: 10px;
}

#reset-filters {
  color: #dc3545; /* Czerwony kolor */
  font-size: 12px;
  text-decoration: underline;
  cursor: pointer;
  transition: color 0.2s;
}

#reset-filters:hover {
  color: #a71d2a;
  font-weight: bold;
}

====================
PLIK: script.js
====================
document.addEventListener('DOMContentLoaded', () => {
    // --- ZMIENNE ---
    const cartCountElement = document.querySelector('.cart-count');
    const backToTopBtn = document.getElementById('back-to-top');
    
    // --- 1. ZARZĄDZANIE KOSZYKIEM (LOCAL STORAGE) ---
    
    // Pobierz koszyk z pamięci przeglądarki
    function getCart() {
        return JSON.parse(localStorage.getItem('myShopCart')) || [];
    }

    // Zapisz koszyk do pamięci
    function saveCart(cart) {
        localStorage.setItem('myShopCart', JSON.stringify(cart));
        updateBadge();
    }

    // Aktualizuj licznik w nagłówku
    function updateBadge() {
        const cart = getCart();
        const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
        if (cartCountElement) cartCountElement.innerText = totalQty;
    }

    // Dodaj produkt
    function addToCart(id, qty = 1) {
        let cart = getCart();
        const existingItem = cart.find(item => item.id === id);
        
        if (existingItem) {
            existingItem.qty += qty;
        } else {
            cart.push({ id: id, qty: qty });
        }
        
        saveCart(cart);
        updateBadge();
        window.showToast("Dodano produkt do koszyka!");
    }

    // --- 2. OBSŁUGA PRZYCISKÓW NA STRONIE (WSZYSTKICH) ---
    
    // Guziki "Dodaj do koszyka" na liście produktów (index.html)
    document.querySelectorAll('.cart-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.preventDefault(); // Żeby nie wchodziło w link szczegółów
            // Szukamy ID w linku rodzica lub atrybucie
            const card = btn.closest('.product-card');
            const link = card.querySelector('.card-link').getAttribute('href'); // np. "szczegoly.html?id=5"
            const id = parseInt(link.split('=')[1]);
            
            addToCart(id, 1);
        });
    });

    // Guzik "Dodaj do koszyka" na stronie szczegółów (szczegoly.html)
    const btnAddBig = document.querySelector('.add-to-cart-big');
    if (btnAddBig) {
        btnAddBig.addEventListener('click', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const id = parseInt(urlParams.get('id'));
            const qtyInput = document.querySelector('.qty-input');
            const qty = parseInt(qtyInput.value) || 1;
            
            addToCart(id, qty);
        });
    }

    // --- 3. LOGIKA STRONY KOSZYKA (koszyk.html) ---
    const cartTableBody = document.querySelector('.cart-table tbody');
    if (cartTableBody) {
        renderCartPage();
    }

    async function renderCartPage() {
        const cart = getCart();
        const emptyMsg = document.getElementById('empty-cart-msg');
        const cartContent = document.getElementById('cart-content');

        if (cart.length === 0) {
            if(cartContent) cartContent.style.display = 'none';
            if(emptyMsg) emptyMsg.style.display = 'block';
            return;
        }

        // Pobierz szczegóły produktów z backendu (Python)
        const ids = cart.map(item => item.id);
        
        try {
            const response = await fetch('/api/products-details', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(ids)
            });
            const products = await response.json();

            // Generuj HTML tabeli
            cartTableBody.innerHTML = '';
            let totalSum = 0;

            cart.forEach(cartItem => {
                const product = products.find(p => p.id === cartItem.id);
                if (!product) return; // Produkt mógł zostać usunięty z bazy

                const subtotal = product.price * cartItem.qty;
                totalSum += subtotal;

                const row = `
                    <tr data-id="${cartItem.id}">
                        <td class="product-img">
                            <img src="${product.image || 'https://placehold.co/80x60'}" width="80">
                        </td>
                        <td class="product-name">
                            <a href="szczegoly.html?id=${product.id}">${product.name}</a>
                        </td>
                        <td class="product-price">${product.price} zł</td>
                        <td class="product-qty">
                            <div class="qty-control">
                                <button class="qty-minus">-</button>
                                <input type="number" class="qty-input" value="${cartItem.qty}" readonly>
                                <button class="qty-plus">+</button>
                            </div>
                        </td>
                        <td class="product-subtotal">${subtotal.toFixed(2)} zł</td>
                        <td class="product-remove">
                            <button class="btn-remove"><i class="fa-solid fa-trash"></i></button>
                        </td>
                    </tr>
                `;
                cartTableBody.insertAdjacentHTML('beforeend', row);
            });

            document.querySelector('.summary-subtotal').innerText = totalSum.toFixed(2) + ' zł';
            document.querySelector('.summary-total span:last-child').innerText = totalSum.toFixed(2) + ' zł';

            // Obsługa guzików wewnątrz koszyka (+, -, usuń)
            attachCartEvents();

        } catch (error) {
            console.error("Błąd pobierania koszyka:", error);
        }
    }

    function attachCartEvents() {
        // Minus
        document.querySelectorAll('.qty-minus').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const id = parseInt(e.target.closest('tr').dataset.id);
                let cart = getCart();
                const item = cart.find(i => i.id === id);
                if (item && item.qty > 1) {
                    item.qty--;
                    saveCart(cart);
                    renderCartPage(); // Odśwież widok
                }
            });
        });

        // Plus
        document.querySelectorAll('.qty-plus').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const id = parseInt(e.target.closest('tr').dataset.id);
                let cart = getCart();
                const item = cart.find(i => i.id === id);
                if (item) {
                    item.qty++;
                    saveCart(cart);
                    renderCartPage();
                }
            });
        });

        // Usuń
        document.querySelectorAll('.btn-remove').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const id = parseInt(e.target.closest('tr').dataset.id);
                let cart = getCart();
                cart = cart.filter(i => i.id !== id);
                saveCart(cart);
                renderCartPage();
            });
        });
    }

    // --- 4. PRZEKIEROWANIE DO PODSUMOWANIA ---
    const checkoutBtn = document.querySelector('.checkout-btn');
    if (checkoutBtn) {
        checkoutBtn.addEventListener('click', () => {
            const cart = getCart();
            if (cart.length === 0) {
                alert("Twój koszyk jest pusty!");
                return;
            }
            // Zamiast wysyłać od razu POST, idziemy do formularza wyboru adresu
            window.location.href = "/podsumowanie";
        });
    }

    // --- 5. INITIALIZACJA ---
    updateBadge(); // Uruchom przy starcie każdej strony

    // --- 6. TOASTY ---
    window.showToast = function(msg) {
        let container = document.getElementById('toast-container');
        if (!container) {
            container = document.createElement('div');
            container.id = 'toast-container';
            document.body.appendChild(container);
        }
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.innerHTML = `<i class="fa-solid fa-circle-check"></i> <span>${msg}</span>`;
        container.appendChild(toast);
        setTimeout(() => { toast.remove(); }, 3000);
    };
    
    // --- 7. FILTRY, SZUKANIE I SORTOWANIE (ZINTEGROWANE) ---
    
    // Elementy DOM
    const applyFiltersBtn = document.getElementById('apply-filters');
    const resetFiltersBtn = document.getElementById('reset-filters');
    const sortSelect = document.getElementById('sort-select');
    const searchInput = document.querySelector('.search-bar input');
    const searchBtn = document.querySelector('.search-bar .search-btn');

    // A. USTAWIENIE STANU POCZĄTKOWEGO (Po przeładowaniu)
    // Jeśli w URL jest ?sort=2, ustawiamy select na 2, żeby użytkownik widział co wybrał
    if (sortSelect) {
        const params = new URLSearchParams(window.location.search);
        const currentSort = params.get('sort');
        if (currentSort) {
            sortSelect.value = currentSort;
        }
    }

    // B. FUNKCJA APLIKUJĄCA WSZYSTKIE FILTRY (Cena + Sortowanie + Szukanie + Kategoria)
    function applyAllFilters() {
        const urlParams = new URLSearchParams(window.location.search);
        
        // 1. Ceny
        const min = document.getElementById('price-min').value;
        const max = document.getElementById('price-max').value;

        if (min) urlParams.set('price_min', min);
        else urlParams.delete('price_min');

        if (max) urlParams.set('price_max', max);
        else urlParams.delete('price_max');

        // 2. Sortowanie
        if (sortSelect) {
            const sortVal = sortSelect.value;
            if (sortVal !== "0") urlParams.set('sort', sortVal);
            else urlParams.delete('sort');
        }

        // 3. Wyszukiwanie (jeśli jest wpisane w headerze)
        if (searchInput && searchInput.value.trim() !== "") {
            urlParams.set('search', searchInput.value.trim());
        }

        // (Kategoria jest już w urlParams, jeśli tam była, więc jej nie ruszamy)

        // Przeładowanie strony z nowymi parametrami
        window.location.search = urlParams.toString();
    }

    // C. OBSŁUGA GUZIKA "ZASTOSUJ"
    if (applyFiltersBtn) {
        applyFiltersBtn.addEventListener('click', (e) => {
            e.preventDefault();
            applyAllFilters();
        });
    }

    // D. OBSŁUGA GUZIKA "WYCZYŚĆ FILTRY" (Czerwony tekst)
    if (resetFiltersBtn) {
        resetFiltersBtn.addEventListener('click', (e) => {
            e.preventDefault();
            const urlParams = new URLSearchParams(window.location.search);
            
            // Usuwamy tylko filtry cenowe i sortowanie
            // Zostawiamy kategorię (żeby nie wyrzucało do "Wszystkie") i szukanie
            urlParams.delete('price_min');
            urlParams.delete('price_max');
            urlParams.delete('sort');
            
            // Jeśli chcesz czyścić też szukanie, odkomentuj linię poniżej:
            // urlParams.delete('search');

            window.location.search = urlParams.toString();
        });
    }

    // E. OBSŁUGA WYSZUKIWANIA (Enter lub Klik)
    function performSearch() {
        const query = searchInput.value.trim();
        const urlParams = new URLSearchParams(window.location.search);
        
        if (query) {
            urlParams.set('search', query);
        } else {
            urlParams.delete('search');
        }
        
        // Zazwyczaj przy nowym wyszukiwaniu resetuje się filtry ceny, 
        // ale w tym rozwiązaniu zostawiamy je, aby można było szukać w przedziale cenowym.
        
        window.location.search = urlParams.toString();
    }

    if (searchBtn) {
        searchBtn.addEventListener('click', performSearch);
    }

    if (searchInput) {
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    }
});

====================
PLIK: index.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
    <title>Sklep Komputerowy</title>
</head>
<body>
    <header>
        <div class="logo">
            <a href="/" class="logo-link">
                <i class="fa-solid fa-shop"></i>
                <span class="sr-only">Logo</span>
            </a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="wyszukaj produkt" value="{{ search_query or '' }}">
            <div class="search-btn"><i class="fa-solid fa-magnifying-glass"></i></div>
        </div>
        <div class="user-actions">
            {% if user %}
                <a href="konto.html" title="Zalogowany jako: {{ user.imie }}">
                    <i class="fa-solid fa-user-check" style="color: green;"></i>
                </a>
                <a href="/logout" title="Wyloguj">
                    <i class="fa-solid fa-right-from-bracket"></i>
                </a>
            {% else %}
                <a href="login.html" title="Zaloguj się">
                    <i class="fa-solid fa-user"></i>
                </a>
            {% endif %}
            <a href="koszyk.html" class="cart-link">
                <i class="fa-solid fa-basket-shopping"></i>
                <span class="cart-count">0</span>
            </a>
        </div>
    </header>

    <div class="layout-container">
        
        <div class="categories">
            <h3>Kategorie</h3>
            <ul>
                <li>
                    <a href="/" class="category-link {% if not current_category_id %}active{% endif %}">
                        Wszystkie
                    </a>
                </li>
                
                {% for cat in categories %}
                <li>
                    <a href="/?category_id={{ cat.id_kategorii }}" 
                       class="category-link {% if current_category_id == cat.id_kategorii %}active{% endif %}">
                        {{ cat.nazwa_kategorii }}
                    </a>
                </li>
                {% endfor %}
            </ul>

            <div class="advanced-filters">
                <h4>Filtry szczegółowe</h4>
                <div class="filter-group">
                    <label>Cena (zł):</label>
                    <div class="price-inputs">
                        <input type="number" id="price-min" placeholder="Od" 
                               value="{{ price_min if price_min is not none else '' }}">
                        <input type="number" id="price-max" placeholder="Do" 
                               value="{{ price_max if price_max is not none else '' }}">
                    </div>
                </div>
                
                <h4>Sortowanie</h4>
                <div class="select-sort">
                    <label for="sort-select"> Sortuj według: ...</label>
                    <select id="sort-select">
                        <option value="0">Domyślnie</option>
                        <option value="1">Cena: Od najniższej</option>
                        <option value="2">Cena: Od najwyższej</option>
                        <option value="3">Nazwa: Alfabetycznie [A-Z]</option>
                        <option value="4">Nazwa: Alfabetycznie [Z-A]</option>
                    </select>
                </div>
                
                <button id="apply-filters" class="btn-filter">Zastosuj</button>
                
                <div class="reset-container">
                    <a href="#" id="reset-filters"><i class="fa-solid fa-xmark"></i> Wyczyść filtry</a>
                </div>
            </div>
        <main>
            <h1 class="section-title">
                {% if current_category_id %}
                    Produkty z wybranej kategorii:
                {% else %}
                    Wszystkie polecane produkty:
                {% endif %}
            </h1>

            <section class="product-grid">
                {% for product in products %}
                <article class="product-card">
                    <a href="szczegoly.html?id={{ product.id_modelu }}" class="card-link">
                        <div class="product-image">
                            {% if product.zdjecie_url %}
                                <img src="{{ product.zdjecie_url }}" alt="{{ product.nazwa_modelu }}">
                            {% else %}
                                <img src="https://placehold.co/200x150" alt="Brak zdjęcia">
                            {% endif %}
                        </div>
                        <h3 class="product-title">{{ product.nazwa_modelu }}</h3>
                    </a>
                    <div class="product-footer">
                        <div class="price">{{ product.cena_katalogowa }} zł</div>
                        <button class="cart-btn"><i class="fa-solid fa-cart-plus"></i></button>
                    </div>
                </article>
                {% endfor %}

                {% if not products %}
                    <p style="padding: 20px;">Brak produktów w tej kategorii.</p>
                {% endif %}
            </section>
        </main>
    </div>

    <footer class="footer-minimal">
        <p class="copyright">&copy; 2026 Sklep Komputerowy.</p>
    </footer>
    <script src="{{ url_for('static', path='script.js') }}"></script>
</body>
</html>

====================
PLIK: konto.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
    <title>Moje Konto</title>
</head>
<body>
    <header>
        <div class="logo">
            <a href="/" class="logo-link"><i class="fa-solid fa-shop"></i></a>
        </div>
        <div class="user-actions">
            <a href="koszyk.html" class="cart-link">
                <i class="fa-solid fa-basket-shopping"></i>
                <span class="cart-count">0</span>
            </a>

            {% if user %}
                <a href="konto.html" title="Zalogowany jako: {{ user.imie }}">
                    <i class="fa-solid fa-user-check" style="color: green;"></i>
                </a>
                <a href="/logout" title="Wyloguj">
                    <i class="fa-solid fa-right-from-bracket"></i>
                </a>
            {% else %}
                <a href="login.html" title="Zaloguj się">
                    <i class="fa-solid fa-user"></i>
                </a>
            {% endif %}
        </div>
    </header>

    <div class="layout-container">
        <main class="account-container">
            <aside class="account-sidebar">
                <div class="user-welcome">
                    <i class="fa-solid fa-circle-user"></i>
                    <div>
                        Witaj, <strong>{{ user.imie }} {{ user.nazwisko }}</strong>
                        <p class="user-id">ID Klienta: #{{ user.id_klienta }}</p>
                        <p style="font-size: 12px;">{{ user.adres_email }}</p>
                    </div>
                </div>
                <nav class="account-nav">
                    <a href="#" class="active">Moje zamówienia</a>
                    <a href="/logout" class="logout">Wyloguj się</a>
                </nav>
            </aside>

            <section class="account-content">
                <h1>Moje zamówienia</h1>
                
                {% if orders %}
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th>Numer</th>
                            <th>Data</th>
                            <th>Status</th>
                            <th>Suma</th>
                            <th>Akcja</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for order in orders %}
                        <tr>
                            <td><strong>{{ order.numer_zamowienia }}</strong></td>
                            <td>{{ order.data_zlozenia.strftime('%d.%m.%Y') }}</td>
                            <td>
                                {% if order.status_zamowienia == 'Dostarczone' %}
                                    <span class="status delivered">{{ order.status_zamowienia }}</span>
                                {% else %}
                                    <span class="status shipped">{{ order.status_zamowienia }}</span>
                                {% endif %}
                            </td>
                            <td>{{ order.suma_calkowita }} zł</td>
<td>
    <a href="/zamowienie/{{ order.id_zamowienia }}" class="details-link">Szczegóły</a>
</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% else %}
                    <p>Nie złożyłeś jeszcze żadnych zamówień.</p>
                {% endif %}
            </section>
        </main>
    </div>
    <script src="{{ url_for('static', path='script.js') }}"></script>
</body>
</html>

====================
PLIK: koszyk.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twój Koszyk</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
     <header>
        <div class="logo">
            <a href="/" class="logo-link">
                <i class="fa-solid fa-shop"></i>
            </a>
        </div>
        <div class="user-actions">
            <a href="koszyk.html" class="cart-link">
                <i class="fa-solid fa-basket-shopping"></i>
                <span class="cart-count">0</span>
            </a>

            {% if user %}
                <a href="konto.html" title="Zalogowany jako: {{ user.imie }}">
                    <i class="fa-solid fa-user-check" style="color: green;"></i>
                </a>
                <a href="/logout" title="Wyloguj">
                    <i class="fa-solid fa-right-from-bracket"></i>
                </a>
            {% else %}
                <a href="login.html" title="Zaloguj się">
                    <i class="fa-solid fa-user"></i>
                </a>
            {% endif %}
        </div>
    </header>

    <div class="layout-container">
    <main class="cart-page">
        <h1>Twój koszyk</h1>
        
        <div id="empty-cart-msg" style="display: none; text-align: center; padding: 100px 20px;">
            <i class="fa-solid fa-cart-shopping" style="font-size: 80px; color: #ddd; margin-bottom: 20px;"></i>
            <h2>Twój koszyk jest obecnie pusty</h2>
            <a href="/" style="background-color: #007bff; color: white; padding: 12px 25px; border-radius: 6px; font-weight: bold;">Wróć do sklepu</a>
        </div>

        <div id="cart-content" class="cart-content">
            <table class="cart-table">
                <thead>
                    <tr>
                        <th>Img</th> <th>Produkt</th> <th>Cena</th> <th>Ilość</th> <th>Suma</th> <th>Usuń</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>

            <aside class="cart-summary">
                <div class="summary-box">
                    <h3>Podsumowanie</h3>
                    <div class="summary-row">
                        <span>Wartość:</span>
                        <span class="summary-subtotal">0.00 zł</span>
                    </div>
                    <div class="summary-total">
                        <span>Do zapłaty:</span>
                        <span>0.00 zł</span>
                    </div>
                    <button class="checkout-btn">Złóż zamówienie</button>
                    <a href="/" class="continue-shopping">Kontynuuj zakupy</a>
                </div>
            </aside>
        </div>
    </main>
    </div>

    <script src="{{ url_for('static', path='script.js') }}"></script>
</body>
</html>

====================
PLIK: login.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logowanie</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
    <div class="layout-container">
        <main class="login-container">
            <div class="login-box">
                <div class="header-positioning">
                    <a href="index.html"><i class="fa-solid fa-arrow-left"></i></a>
                    <h1>Zaloguj się</h1>
                    <div class="spacer"></div>
                </div>
                
                {% if error %}
                <div style="color: red; text-align: center; margin-bottom: 10px;">{{ error }}</div>
                {% endif %}

                <form action="/login" method="POST">
                    <div class="form-group">
                        <label for="email">Adres E-mail</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="form-group">
                        <label for="password">Hasło</label>
                        <div class="input-wrapper">
                            <input type="password" id="password" name="password" required>
                            <i class="fa-solid fa-eye toggle-password"></i>
                        </div>
                    </div>

                    <button type="submit" class="login-btn">Zaloguj się</button>
                </form>
                
                <div class="login-footer">
                    <p>Nie masz konta? <a href="rejestracja.html">Zarejestruj się</a></p>
                </div>
            </div>
        </main>
    </div>
    <script src="{{ url_for('static', path='script.js') }}"></script>
</body>
</html>

====================
PLIK: podsumowanie.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podsumowanie Zamówienia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
    <header>
        <div class="logo">
            <a href="/" class="logo-link"><i class="fa-solid fa-shop"></i></a>
        </div>
        <div class="header-title" style="font-size: 20px; font-weight: bold;">
            Finalizacja Zamówienia
        </div>
        <div class="user-actions">
            <a href="koszyk.html" style="font-size: 14px; text-decoration: underline;">Wróć do koszyka</a>
        </div>
    </header>

    <div class="layout-container">
        <div class="checkout-layout">
            
            <div class="checkout-left">
                
                {% if adres %}
                <div id="default-address-section">
                    <div class="default-address-card">
                        <h3><i class="fa-solid fa-location-dot"></i> Twój domyślny adres dostawy</h3>
                        <p>
                            <strong>{{ adres.ulica }} {{ adres.nr_domu }}{% if adres.nr_lokalu %}/{{ adres.nr_lokalu }}{% endif %}</strong><br>
                            {{ adres.kod_pocztowy }} {{ adres.miejscowosc }}
                        </p>
                        <div class="address-actions">
                            <button type="button" class="btn-small" onclick="editDefaultAddress()">
                                <i class="fa-solid fa-pen"></i> Edytuj / Użyj tego
                            </button>
                            <form action="/address/remove-default" method="POST" style="display:inline;">
                                <button type="submit" class="btn-small delete">
                                    <i class="fa-solid fa-trash"></i> Usuń domyślny
                                </button>
                            </form>
                        </div>
                    </div>

                    <div class="separator-text">LUB</div>

                    <button type="button" class="btn-toggle-form" onclick="showNewAddressForm()">
                        <i class="fa-solid fa-plus"></i> Wybierz / Dodaj nowy adres
                    </button>
                </div>
                {% endif %}

                <div id="checkout-form-container" style="{% if adres %}display: none;{% endif %}">
                    <div class="checkout-box" style="border: 1px solid #007bff;">
                        <h2 style="margin-top: 0;">Dane do wysyłki</h2>
                        
                        <form action="/order/submit" method="POST" id="order-form">
                            <input type="hidden" name="cart_json" id="cart-json-input">

                            <div class="form-group">
                                <label>Ulica</label>
                                <input type="text" name="ulica" id="input-ulica" required class="full-width">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nr domu</label>
                                    <input type="text" name="nr_domu" id="input-nr_domu" required>
                                </div>
                                <div class="form-group">
                                    <label>Nr lokalu</label>
                                    <input type="text" name="nr_lokalu" id="input-nr_lokalu">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Kod pocztowy</label>
                                    <input type="text" name="kod_pocztowy" id="input-kod" required pattern="[0-9]{2}-[0-9]{3}" placeholder="00-000">
                                </div>
                                <div class="form-group">
                                    <label>Miejscowość</label>
                                    <input type="text" name="miejscowosc" id="input-miasto" required>
                                </div>
                            </div>

                            <div class="form-group-checkbox" style="margin-bottom: 20px; background: #f9f9f9; padding: 10px; border-radius: 4px;">
                                <input type="checkbox" id="save_default" name="save_default" value="true">
                                <label for="save_default">Zapisz ten adres jako domyślny na przyszłość</label>
                            </div>

                            <button type="submit" class="login-btn">Zatwierdź i Zamów</button>
                            
                            {% if adres %}
                            <button type="button" class="btn-small" style="width: 100%; margin-top: 10px; text-align: center;" onclick="cancelNewAddress()">
                                Anuluj i wróć do domyślnego
                            </button>
                            {% endif %}
                        </form>
                    </div>
                </div>
            </div>

            <div class="checkout-right">
                <h3>Podsumowanie zamówienia</h3>
                <div id="mini-cart-items">
                    <p style="color: #999;">Ładowanie produktów...</p>
                </div>
                
                <div class="mini-cart-total">
                    <span>Razem:</span>
                    <span id="mini-cart-total-price">0.00 zł</span>
                </div>
            </div>

        </div>
    </div>

    {% if adres %}
    <script>
        const defaultAddressData = {
            ulica: "{{ adres.ulica }}",
            nr_domu: "{{ adres.nr_domu }}",
            nr_lokalu: "{{ adres.nr_lokalu or '' }}",
            kod: "{{ adres.kod_pocztowy }}",
            miasto: "{{ adres.miejscowosc }}"
        };
    </script>
    {% else %}
    <script>const defaultAddressData = null;</script>
    {% endif %}

    <script>
        // --- LOGIKA PRZEŁĄCZANIA WIDOKÓW ---
        
        function showNewAddressForm() {
            document.getElementById('default-address-section').style.display = 'none';
            document.getElementById('checkout-form-container').style.display = 'block';
            // Czyścimy formularz, bo to "nowy adres"
            document.getElementById('order-form').reset();
            // Przywracamy wartość ukrytego pola koszyka (bo reset() mógł go wyczyścić)
            fillCartData();
        }

        function cancelNewAddress() {
            document.getElementById('default-address-section').style.display = 'block';
            document.getElementById('checkout-form-container').style.display = 'none';
        }

        function editDefaultAddress() {
            // 1. Pokaż formularz
            document.getElementById('default-address-section').style.display = 'none';
            document.getElementById('checkout-form-container').style.display = 'block';
            
            // 2. Wypełnij formularz danymi domyślnymi
            if (defaultAddressData) {
                document.getElementById('input-ulica').value = defaultAddressData.ulica;
                document.getElementById('input-nr_domu').value = defaultAddressData.nr_domu;
                document.getElementById('input-nr_lokalu').value = defaultAddressData.nr_lokalu;
                document.getElementById('input-kod').value = defaultAddressData.kod;
                document.getElementById('input-miasto').value = defaultAddressData.miasto;
                // Zaznacz checkbox, bo to w końcu domyślny
                document.getElementById('save_default').checked = true;
            }
        }

        function fillCartData() {
            const cart = localStorage.getItem('myShopCart');
            if (cart) {
                document.getElementById('cart-json-input').value = cart;
            }
        }

        // --- LOGIKA MINI KOSZYKA (JS) ---
        document.addEventListener('DOMContentLoaded', async () => {
            fillCartData();
            
            const cartJson = localStorage.getItem('myShopCart');
            if (!cartJson || JSON.parse(cartJson).length === 0) {
                alert("Twój koszyk jest pusty!");
                window.location.href = "/koszyk.html";
                return;
            }

            const cart = JSON.parse(cartJson);
            const ids = cart.map(item => item.id);

            // Pobierz szczegóły produktów z API
            try {
                const response = await fetch('/api/products-details', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(ids)
                });
                const products = await response.json();
                
                const container = document.getElementById('mini-cart-items');
                container.innerHTML = '';
                let total = 0;

                cart.forEach(cartItem => {
                    const product = products.find(p => p.id === cartItem.id);
                    if (!product) return;

                    const subtotal = product.price * cartItem.qty;
                    total += subtotal;

                    const html = `
                        <div class="mini-cart-item">
                            <img src="${product.image || 'https://placehold.co/50'}" alt="">
                            <div class="mini-cart-info">
                                <span class="mini-cart-title">${product.name}</span>
                                <div class="mini-cart-meta">
                                    ${cartItem.qty} szt. x ${product.price} zł
                                </div>
                            </div>
                            <div style="font-weight: bold;">
                                ${subtotal.toFixed(2)} zł
                            </div>
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', html);
                });

                document.getElementById('mini-cart-total-price').innerText = total.toFixed(2) + " zł";

            } catch (error) {
                console.error(error);
                document.getElementById('mini-cart-items').innerText = "Błąd wczytywania produktów.";
            }
        });
    </script>
</body>
</html>

====================
PLIK: rejestracja.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rejestracja</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
    <div class="layout-container"> 
        <main class="login-container">
            <div class="login-box">
                <div class="header-positioning">
                    <a href="index.html"><i class="fa-solid fa-arrow-left"></i></a>
                    <h1>Rejestracja</h1>
                    <div class="spacer"></div>
                </div>

                <form action="/register" method="POST">
                    <div class="form-group">
                        <label for="imie">Imię</label>
                        <input type="text" id="imie" name="imie" required placeholder="Jan">
                    </div>

                    <div class="form-group">
                        <label for="nazwisko">Nazwisko</label>
                        <input type="text" id="nazwisko" name="nazwisko" required placeholder="Kowalski">
                    </div>

                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" name="email" required placeholder="jan@example.com">
                    </div>

                    <div class="form-group">
                        <label for="password">Hasło</label>
                        <div class="input-wrapper">
                            <input type="password" id="password" name="password" required>
                            <i class="fa-solid fa-eye toggle-password"></i>
                        </div>
                    </div>

                    <button type="submit" class="login-btn">Załóż konto</button>
                </form>

                <div class="login-footer">
                    <p>Masz już konto? <a href="login.html">Zaloguj się</a></p>
                </div>
            </div>
        </main>
    </div>
    <script src="{{ url_for('static', path='script.js') }}"></script>
</body>
</html>

====================
PLIK: szczegoly.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ product.nazwa_modelu }} - Sklep</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
     <header>
        <div class="logo">
            <a href="/" class="logo-link">
                <i class="fa-solid fa-shop"></i>
                <span class="sr-only">Logo Sklepu</span>
            </a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="wyszukaj">
            <div class="search-btn"><i class="fa-solid fa-magnifying-glass"></i></div>
        </div>
        <div class="user-actions">
            <a href="koszyk.html" class="cart-link">
                <i class="fa-solid fa-basket-shopping"></i>
                <span class="cart-count">0</span>
            </a>

            {% if user %}
                <a href="konto.html" title="Zalogowany jako: {{ user.imie }}">
                    <i class="fa-solid fa-user-check" style="color: green;"></i>
                </a>
                <a href="/logout" title="Wyloguj">
                    <i class="fa-solid fa-right-from-bracket"></i>
                </a>
            {% else %}
                <a href="login.html" title="Zaloguj się">
                    <i class="fa-solid fa-user"></i>
                </a>
            {% endif %}
        </div>
    </header>

    <div class="layout-container">
    <main class="product-detail">
        <div class="product-gallery">
            {% if product.zdjecie_url %}
                <img src="{{ product.zdjecie_url }}" alt="{{ product.nazwa_modelu }}">
            {% else %}
                <img src="https://placehold.co/600x450" alt="Brak zdjęcia">
            {% endif %}
        </div>

        <div class="product-info">
            <nav class="breadcrumb">
                <a href="/">Strona główna</a> / <span>Szczegóły produktu</span>
            </nav>
            
            <h1>{{ product.nazwa_modelu }}</h1>
            <p class="sku">ID Produktu: {{ product.id_modelu }}</p>
            
            <div class="price-section">
                <span class="price-value">{{ product.cena_katalogowa }} zł</span>
                
                {% if product.stan_magazynowy > 0 %}
                    <span class="availability" style="color: #28a745;">
                        <i class="fa-solid fa-check"></i> Dostępny ({{ product.stan_magazynowy }} szt.)
                    </span>
                {% else %}
                    <span class="availability" style="color: #dc3545;">
                        <i class="fa-solid fa-xmark"></i> Wyprzedany
                    </span>
                {% endif %}
            </div>

            <div class="purchase-section">
                    <div class="qty-control">
                        <button class="qty-minus">-</button>
                        <input type="number" class="qty-input" value="1" min="1">
                        <button class="qty-plus">+</button>
                    </div>
                {% if product.stan_magazynowy > 0 %}
                    <button class="add-to-cart-big">
                        <i class="fa-solid fa-cart-shopping"></i> DODAJ DO KOSZYKA
                    </button>
                {% else %}
                    <button class="add-to-cart-big" disabled style="background-color: #ccc; cursor: not-allowed;">
                        PRODUKT NIEDOSTĘPNY
                    </button>
                {% endif %}
            </div>

            <div class="product-description">
                <h3>Opis produktu</h3>
                <p>{{ product.opis }}</p>
            </div>
        </div>
    </main>
</div>

<footer class="footer-minimal">
    <div class="footer-minimal-content">
        <p class="copyright">&copy; 2026 Sklep Komputerowy.</p>
    </div>
</footer>
<script src="{{ url_for('static', path='script.js') }}"></script>
</body>
</html>

====================
PLIK: szczegoly_zamowienia.html
====================
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zamówienie {{ order.numer_zamowienia }}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
</head>
<body>
    <header>
        <div class="logo"><a href="/" class="logo-link"><i class="fa-solid fa-shop"></i></a></div>
        <div class="user-actions">
            <a href="/konto.html"><i class="fa-solid fa-user"></i></a>
        </div>
    </header>

    <div class="layout-container">
        <main class="account-container" style="flex-direction: column; align-items: center;">
            <div class="summary-card" style="width: 100%; max-width: 800px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Zamówienie: {{ order.numer_zamowienia }}</h2>
                    <span class="status shipped">{{ order.status_zamowienia }}</span>
                </div>
                
                <p><strong>Data złożenia:</strong> {{ order.data_zlozenia.strftime('%d.%m.%Y %H:%M') }}</p>
                
                <div class="divider" style="margin: 20px 0; border-top: 1px solid #eee;"></div>

                <h3>Adres dostawy:</h3>
                {% if adres %}
                <p>
                    {{ adres.ulica }} {{ adres.nr_domu }}{% if adres.nr_lokalu %}/{{ adres.nr_lokalu }}{% endif %}<br>
                    {{ adres.kod_pocztowy }} {{ adres.miejscowosc }}
                </p>
                {% else %}
                <p>Brak danych adresowych (archiwum).</p>
                {% endif %}

                <div class="divider" style="margin: 20px 0; border-top: 1px solid #eee;"></div>

                <h3>Produkty:</h3>
                <table class="cart-table" style="margin-top: 10px;">
                    <thead>
                        <tr>
                            <th>Produkt</th>
                            <th>Cena jedn.</th>
                            <th>Ilość</th>
                            <th>Suma</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in items %}
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    {% if item.model.zdjecie_url %}
                                        <img src="{{ item.model.zdjecie_url }}" alt="" style="width: 50px; height: auto; border-radius: 4px;">
                                    {% else %}
                                        <div style="width: 50px; height: 35px; background: #eee; border-radius: 4px;"></div>
                                    {% endif %}
                                    <strong>{{ item.model.nazwa_modelu }}</strong>
                                </div>
                            </td>
                            <td>{{ item.cena_w_chwili_zakupu }} zł</td>
                            <td>{{ item.ilosc }} szt.</td>
                            <td>{{ item.ilosc * item.cena_w_chwili_zakupu }} zł</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>

                <div class="price-summary" style="margin-top: 30px; text-align: right;">
                    <div class="s-row total">
                        <span>Razem do zapłaty:</span>
                        <span>{{ order.suma_calkowita }} zł</span>
                    </div>
                </div>

                <a href="/konto.html" class="back-link" style="margin-top: 20px; display: inline-block;">
                    <i class="fa-solid fa-arrow-left"></i> Wróć do listy zamówień
                </a>
            </div>
        </main>
    </div>

    <script>
        // Jeśli w URL jest parametr ?clear_cart=1, czyścimy localStorage
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('clear_cart') === '1') {
            localStorage.removeItem('myShopCart');
        }
    </script>
</body>
</html>

====================
PLIK: .env
====================
DATABASE_URL=postgresql://neondb_owner:npg_DEw1xfvGFNI7@ep-sparkling-cake-agwwvugr-pooler.c-2.eu-central-1.aws.neon.tech/sklepInternetowy?sslmode=require

====================
PLIK: bazanowa.txt
====================
-- we don't know how to generate root <with-no-name> (class Root) :(

comment on database postgres is 'default administrative connection database';

grant connect, create, temporary on database neondb to neon_superuser;

grant connect, create, temporary on database "sklepInternetowy" to neon_superuser;

create table adres
(
    id_adresu    serial
        primary key,
    ulica        varchar(100),
    nr_domu      varchar(10) not null,
    nr_lokalu    varchar(10),
    kod_pocztowy char(6)     not null,
    miejscowosc  varchar(50) not null
);

alter table adres
    owner to neondb_owner;

grant usage on sequence adres_id_adresu_seq to rola_klient_niezarejestrowany;

grant usage on sequence adres_id_adresu_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence adres_id_adresu_seq to rola_administrator;

grant insert on adres to rola_klient_niezarejestrowany;

grant insert, select, update (ulica, nr_domu, nr_lokalu, kod_pocztowy, miejscowosc) on adres to rola_klient_zarejestrowany;

grant select on adres to rola_sprzedawca;

grant select on adres to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on adres to rola_administrator;

create table kategoria
(
    id_kategorii    serial
        primary key,
    nazwa_kategorii varchar(50) not null,
    opis_kategorii  varchar(255)
);

alter table kategoria
    owner to neondb_owner;

grant usage on sequence kategoria_id_kategorii_seq to rola_klient_niezarejestrowany;

grant usage on sequence kategoria_id_kategorii_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence kategoria_id_kategorii_seq to rola_administrator;

grant select on kategoria to rola_klient_niezarejestrowany;

grant select on kategoria to rola_klient_zarejestrowany;

grant select on kategoria to rola_sprzedawca;

grant select on kategoria to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on kategoria to rola_administrator;

create table rola
(
    id_roli    serial
        primary key,
    nazwa_roli varchar(30) not null
);

alter table rola
    owner to neondb_owner;

grant usage on sequence rola_id_roli_seq to rola_klient_niezarejestrowany;

grant usage on sequence rola_id_roli_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence rola_id_roli_seq to rola_administrator;

grant delete, insert, references, select, trigger, truncate, update on rola to rola_administrator;

create table klient
(
    id_klienta       serial
        primary key,
    imie             varchar(50)  not null,
    drugie_imie      varchar(50),
    nazwisko         varchar(50)  not null,
    adres_email      varchar(40)  not null
        unique,
    haslo_hash       varchar(255) not null,
    data_rejestracji timestamp    not null
);

alter table klient
    owner to neondb_owner;

grant usage on sequence klient_id_klienta_seq to rola_klient_niezarejestrowany;

grant usage on sequence klient_id_klienta_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence klient_id_klienta_seq to rola_administrator;

create index idx_klient_imie_nazwisko
    on klient (imie, nazwisko);

grant insert on klient to rola_klient_niezarejestrowany;

grant select, update (imie, drugie_imie, nazwisko, adres_email, haslo_hash) on klient to rola_klient_zarejestrowany;

grant select on klient to rola_sprzedawca;

grant select on klient to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on klient to rola_administrator;

create table pracownik
(
    id_pracownika serial
        primary key,
    login         varchar(50)  not null
        unique,
    haslo_hash    varchar(255) not null,
    imie          varchar(50)  not null,
    nazwisko      varchar(50)  not null,
    plec          text,
    id_roli       integer      not null
        constraint fk_pracownik_rola
            references rola
);

alter table pracownik
    owner to neondb_owner;

grant usage on sequence pracownik_id_pracownika_seq to rola_klient_niezarejestrowany;

grant usage on sequence pracownik_id_pracownika_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence pracownik_id_pracownika_seq to rola_administrator;

grant delete, insert, references, select, trigger, truncate, update on pracownik to rola_administrator;

create table klient_adres
(
    klient2id_klienta integer not null
        constraint fk_ka_klient
            references klient,
    adres2id_adresu   integer not null
        constraint fk_ka_adres
            references adres,
    czy_domyslny      boolean default false,
    primary key (klient2id_klienta, adres2id_adresu)
);

alter table klient_adres
    owner to neondb_owner;

grant insert on klient_adres to rola_klient_niezarejestrowany;

grant insert, select, update (czy_domyslny) on klient_adres to rola_klient_zarejestrowany;

grant select on klient_adres to rola_sprzedawca;

grant select on klient_adres to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on klient_adres to rola_administrator;

create table model_produktu
(
    id_modelu       serial
        primary key,
    nazwa_modelu    varchar(100)  not null,
    opis            text,
    cena_katalogowa numeric(8, 2) not null,
    zdjecie_url     varchar(255),
    id_kategorii    integer       not null
        constraint fk_model_kategoria
            references kategoria,
    stan_magazynowy integer default 100
);

alter table model_produktu
    owner to neondb_owner;

grant usage on sequence model_produktu_id_modelu_seq to rola_klient_niezarejestrowany;

grant usage on sequence model_produktu_id_modelu_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence model_produktu_id_modelu_seq to rola_administrator;

grant select on model_produktu to rola_klient_niezarejestrowany;

grant select on model_produktu to rola_klient_zarejestrowany;

grant select, update (opis, cena_katalogowa) on model_produktu to rola_sprzedawca;

grant select on model_produktu to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on model_produktu to rola_administrator;

create table egzemplarz_produktu
(
    id_egzemplarza     serial
        primary key,
    numer_seryjny      varchar(50) not null
        unique,
    kod_wewnetrzny     varchar(50) not null
        unique,
    status_egzemplarza varchar(20) not null,
    id_modelu          integer     not null
        constraint fk_egzemplarz_model
            references model_produktu
);

alter table egzemplarz_produktu
    owner to neondb_owner;

grant usage on sequence egzemplarz_produktu_id_egzemplarza_seq to rola_klient_niezarejestrowany;

grant usage on sequence egzemplarz_produktu_id_egzemplarza_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence egzemplarz_produktu_id_egzemplarza_seq to rola_administrator;

grant select on egzemplarz_produktu to rola_sprzedawca;

grant select, update (status_egzemplarza) on egzemplarz_produktu to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on egzemplarz_produktu to rola_administrator;

create table zamowienie
(
    id_zamowienia          serial
        primary key,
    numer_zamowienia       varchar(50)    not null
        unique,
    data_zlozenia          timestamp      not null,
    status_zamowienia      varchar(20)    not null,
    suma_calkowita         numeric(10, 2) not null,
    telefon_kontakt_do_zam varchar(9),
    email_kontakt_do_zam   varchar(40),
    id_adresu              integer        not null
        constraint fk_zam_adres
            references adres,
    id_klienta             integer        not null
        constraint fk_zam_klient
            references klient
);

alter table zamowienie
    owner to neondb_owner;

grant usage on sequence zamowienie_id_zamowienia_seq to rola_klient_niezarejestrowany;

grant usage on sequence zamowienie_id_zamowienia_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence zamowienie_id_zamowienia_seq to rola_administrator;

grant insert on zamowienie to rola_klient_niezarejestrowany;

grant insert, select on zamowienie to rola_klient_zarejestrowany;

grant select, update (status_zamowienia) on zamowienie to rola_sprzedawca;

grant select, update (status_zamowienia) on zamowienie to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on zamowienie to rola_administrator;

create table pozycja_zamowienia
(
    id_pozycji           serial
        primary key,
    ilosc                integer        not null,
    cena_w_chwili_zakupu numeric(10, 2) not null,
    id_modelu            integer        not null
        constraint fk_poz_model
            references model_produktu,
    id_zamowienia        integer        not null
        constraint fk_poz_zamowienie
            references zamowienie
);

alter table pozycja_zamowienia
    owner to neondb_owner;

grant usage on sequence pozycja_zamowienia_id_pozycji_seq to rola_klient_niezarejestrowany;

grant usage on sequence pozycja_zamowienia_id_pozycji_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence pozycja_zamowienia_id_pozycji_seq to rola_administrator;

grant insert on pozycja_zamowienia to rola_klient_niezarejestrowany;

grant insert, select on pozycja_zamowienia to rola_klient_zarejestrowany;

grant select on pozycja_zamowienia to rola_sprzedawca;

grant select on pozycja_zamowienia to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on pozycja_zamowienia to rola_administrator;

create table realizacja_pozycji
(
    id_realizacji                     serial
        primary key,
    pozycja_zamowieniaid_pozycji      integer not null
        constraint fk_real_pozycja
            references pozycja_zamowienia,
    egzemplarz_produktuid_egzemplarza integer not null
        constraint fk_real_egzemplarz
            references egzemplarz_produktu
);

alter table realizacja_pozycji
    owner to neondb_owner;

grant usage on sequence realizacja_pozycji_id_realizacji_seq to rola_klient_niezarejestrowany;

grant usage on sequence realizacja_pozycji_id_realizacji_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence realizacja_pozycji_id_realizacji_seq to rola_administrator;

grant select on realizacja_pozycji to rola_sprzedawca;

grant select on realizacja_pozycji to rola_magazynier;

grant delete, insert, references, select, trigger, truncate, update on realizacja_pozycji to rola_administrator;

create table log_zmiana_statusu
(
    id_logu       serial
        primary key,
    stary_status  text,
    nowy_status   text,
    data_zmiany   date,
    id_zamowienia integer not null
        constraint fk_log_zamowienie
            references zamowienie,
    id_pracownika integer not null
        constraint fk_log_pracownik
            references pracownik
);

alter table log_zmiana_statusu
    owner to neondb_owner;

grant usage on sequence log_zmiana_statusu_id_logu_seq to rola_klient_niezarejestrowany;

grant usage on sequence log_zmiana_statusu_id_logu_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence log_zmiana_statusu_id_logu_seq to rola_administrator;

grant select on log_zmiana_statusu to rola_klient_zarejestrowany;

grant select on log_zmiana_statusu to rola_sprzedawca;

grant select on log_zmiana_statusu to rola_magazynier;

grant select on log_zmiana_statusu to rola_administrator;

create table telefony_pracownikow
(
    id_telefonu            serial
        primary key,
    numer                  text,
    typ                    text,
    pracownikid_pracownika integer not null
        constraint fk_tel_pracownik
            references pracownik
);

alter table telefony_pracownikow
    owner to neondb_owner;

grant usage on sequence telefony_pracownikow_id_telefonu_seq to rola_klient_niezarejestrowany;

grant usage on sequence telefony_pracownikow_id_telefonu_seq to rola_klient_zarejestrowany;

grant select, update, usage on sequence telefony_pracownikow_id_telefonu_seq to rola_administrator;

grant delete, insert, references, select, trigger, truncate, update on telefony_pracownikow to rola_administrator;

create view v_dostepne_produkty
            (id_modelu, nazwa_modelu, nazwa_kategorii, cena_katalogowa, ilosc_dostepna_fizycznie, ilosc_teoretyczna) as
SELECT m.id_modelu,
       m.nazwa_modelu,
       k.nazwa_kategorii,
       m.cena_katalogowa,
       (SELECT count(*) AS count
        FROM egzemplarz_produktu e
        WHERE e.id_modelu = m.id_modelu
          AND e.status_egzemplarza::text = 'Dostepny'::text) AS ilosc_dostepna_fizycznie,
       m.stan_magazynowy                                     AS ilosc_teoretyczna
FROM model_produktu m
         JOIN kategoria k ON m.id_kategorii = k.id_kategorii
WHERE m.stan_magazynowy > 0;

alter table v_dostepne_produkty
    owner to neondb_owner;

grant select on v_dostepne_produkty to rola_klient_niezarejestrowany;

grant select on v_dostepne_produkty to rola_klient_zarejestrowany;

grant select on v_dostepne_produkty to rola_sprzedawca;

grant select on v_dostepne_produkty to rola_magazynier;

grant select on v_dostepne_produkty to rola_administrator;

create view v_szczegoly_zamowienia
            (numer_zamowienia, data_zlozenia, status_zamowienia, suma_calkowita, imie, nazwisko, miejscowosc, ulica,
             nr_domu, nr_lokalu, ilosc, cena_w_chwili_zakupu, nazwa_modelu)
as
SELECT z.numer_zamowienia,
       z.data_zlozenia,
       z.status_zamowienia,
       z.suma_calkowita,
       k.imie,
       k.nazwisko,
       a.miejscowosc,
       a.ulica,
       a.nr_domu,
       a.nr_lokalu,
       pz.ilosc,
       pz.cena_w_chwili_zakupu,
       m.nazwa_modelu
FROM zamowienie z
         JOIN klient k ON z.id_klienta = k.id_klienta
         JOIN adres a ON z.id_adresu = a.id_adresu
         JOIN pozycja_zamowienia pz ON z.id_zamowienia = pz.id_zamowienia
         JOIN model_produktu m ON pz.id_modelu = m.id_modelu;

alter table v_szczegoly_zamowienia
    owner to neondb_owner;

grant select on v_szczegoly_zamowienia to rola_klient_niezarejestrowany;

grant select on v_szczegoly_zamowienia to rola_klient_zarejestrowany;

grant select on v_szczegoly_zamowienia to rola_sprzedawca;

grant select on v_szczegoly_zamowienia to rola_magazynier;

grant select on v_szczegoly_zamowienia to rola_administrator;

create function func_zapisz_cene_historyczna() returns trigger
    language plpgsql
as
$$
BEGIN
    -- Sprawdzamy czy cena nie została podana lub jest 0
    IF NEW.cena_w_chwili_zakupu IS NULL OR NEW.cena_w_chwili_zakupu = 0 THEN
        -- Pobieramy aktualną cenę z katalogu i przypisujemy do nowego rekordu
        SELECT cena_katalogowa INTO NEW.cena_w_chwili_zakupu
        FROM model_produktu
        WHERE id_modelu = NEW.id_modelu;
    END IF;
    RETURN NEW; -- Zwracamy zmodyfikowany rekord
END;
$$;

alter function func_zapisz_cene_historyczna() owner to neondb_owner;

create function func_aktualizacja_stanu_licznika() returns trigger
    language plpgsql
as
$$
BEGIN
    -- Zmniejszamy stan magazynowy modelu o tyle sztuk, ile klient kupił
    UPDATE model_produktu
    SET stan_magazynowy = stan_magazynowy - NEW.ilosc
    WHERE id_modelu = NEW.id_modelu;

    RETURN NEW;
END;
$$;

alter function func_aktualizacja_stanu_licznika() owner to neondb_owner;


====================
PLIK: database.py
====================
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker, declarative_base
import os
from dotenv import load_dotenv

# 1. Załaduj zmienne z pliku .env
load_dotenv()

# 2. Pobierz adres bazy danych
SQLALCHEMY_DATABASE_URL = os.getenv("DATABASE_URL")

# Zabezpieczenie na wypadek braku wpisu w .env
if not SQLALCHEMY_DATABASE_URL:
    raise ValueError("BŁĄD: Nie znaleziono DATABASE_URL w pliku .env")

# 3. Utwórz silnik bazy danych (engine)
engine = create_engine(SQLALCHEMY_DATABASE_URL)

# 4. Utwórz fabrykę sesji (to pozwala na zapytania do bazy)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

# 5. Baza dla modeli
Base = declarative_base()

# 6. Funkcja (Dependency), której używamy w main.py do pobrania sesji
def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

====================
PLIK: main.py
====================
from fastapi import FastAPI, Request, Depends, Form, Body
from fastapi.responses import RedirectResponse, JSONResponse
from fastapi.staticfiles import StaticFiles
from fastapi.templating import Jinja2Templates
from sqlalchemy.orm import Session
from starlette.middleware.sessions import SessionMiddleware
from datetime import datetime
from typing import Optional, List
import json

import models
from database import engine, get_db

models.Base.metadata.create_all(bind=engine)

app = FastAPI()

app.add_middleware(SessionMiddleware, secret_key="bardzo-tajny-klucz")
app.mount("/static", StaticFiles(directory="static"), name="static")
templates = Jinja2Templates(directory="templates")

# --- POMOCNICY ---
def get_current_user(request: Request, db: Session):
    user_id = request.session.get("user_id")
    if not user_id:
        return None
    return db.query(models.Klient).filter(models.Klient.id_klienta == user_id).first()

# --- ENDPOINTY ---

@app.get("/")
@app.get("/index.html")
def read_root(
    request: Request, 
    category_id: Optional[int] = None,
    price_min: Optional[float] = None, 
    price_max: Optional[float] = None,
    search: Optional[str] = None, 
    sort: Optional[str] = None,
    db: Session = Depends(get_db)
):
    categories = db.query(models.Kategoria).all()
    query = db.query(models.ModelProduktu)

    if category_id:
        query = query.filter(models.ModelProduktu.id_kategorii == category_id)
    if price_min is not None:
        query = query.filter(models.ModelProduktu.cena_katalogowa >= price_min)
    if price_max is not None:
        query = query.filter(models.ModelProduktu.cena_katalogowa <= price_max)
    if search:
        query = query.filter(models.ModelProduktu.nazwa_modelu.ilike(f"%{search}%"))

    if sort == '1':
        query = query.order_by(models.ModelProduktu.cena_katalogowa.asc())
    elif sort == '2':
        query = query.order_by(models.ModelProduktu.cena_katalogowa.desc())
    elif sort == '3':
        query = query.order_by(models.ModelProduktu.nazwa_modelu.asc())
    elif sort == '4':
        query = query.order_by(models.ModelProduktu.nazwa_modelu.desc())
    else:
        query = query.order_by(models.ModelProduktu.id_modelu.desc())

    products = query.all()
    user = get_current_user(request, db)

    return templates.TemplateResponse("index.html", {
        "request": request, 
        "products": products,
        "categories": categories,
        "user": user,
        "current_category_id": category_id,
        "price_min": price_min,
        "price_max": price_max,
        "search_query": search,
        "current_sort": sort
    })

@app.post("/api/products-details")
async def get_products_details(ids: List[int] = Body(...), db: Session = Depends(get_db)):
    products = db.query(models.ModelProduktu).filter(models.ModelProduktu.id_modelu.in_(ids)).all()
    return [{"id": p.id_modelu, "name": p.nazwa_modelu, "price": p.cena_katalogowa, "image": p.zdjecie_url} for p in products]

# --- NOWOŚĆ: Strona Podsumowania (Checkout) z autouzupełnianiem ---
@app.get("/podsumowanie")
def checkout_page(request: Request, db: Session = Depends(get_db)):
    user = get_current_user(request, db)
    if not user:
        return RedirectResponse(url="/login.html")
    
    # Szukamy adresu domyślnego w tabeli łączącej klient_adres
    # 1. Znajdź wpis w klient_adres gdzie czy_domyslny = True dla tego klienta
    klient_adres_entry = db.query(models.KlientAdres).filter(
        models.KlientAdres.klient2id_klienta == user.id_klienta,
        models.KlientAdres.czy_domyslny == True
    ).first()

    default_address = None
    if klient_adres_entry:
        # 2. Jeśli znaleziono, pobierz właściwy obiekt adresu
        default_address = db.query(models.Adres).filter(
            models.Adres.id_adresu == klient_adres_entry.adres2id_adresu
        ).first()

    return templates.TemplateResponse("podsumowanie.html", {
        "request": request, 
        "adres": default_address
    })

# --- NOWOŚĆ: Usuwanie adresu domyślnego (Dezaktywacja flagi) ---
@app.post("/address/remove-default")
def remove_default_address(request: Request, db: Session = Depends(get_db)):
    user = get_current_user(request, db)
    if not user:
        return JSONResponse(status_code=401, content={"message": "Zaloguj się"})
    
    # Znajdź obecny domyślny i usuń flagę
    defaults = db.query(models.KlientAdres).filter(
        models.KlientAdres.klient2id_klienta == user.id_klienta,
        models.KlientAdres.czy_domyslny == True
    ).all()
    
    for d in defaults:
        d.czy_domyslny = False
    
    db.commit()
    # Przeładuj stronę
    return RedirectResponse(url="/podsumowanie", status_code=303)

# --- NOWOŚĆ: Składanie zamówienia z formularza HTML ---
@app.post("/order/submit")
async def submit_order(
    request: Request,
    ulica: str = Form(...),
    nr_domu: str = Form(...),
    nr_lokalu: str = Form(None),
    kod_pocztowy: str = Form(...),
    miejscowosc: str = Form(...),
    save_default: bool = Form(False), # Checkbox
    cart_json: str = Form(...),       # Koszyk jako JSON string z ukrytego pola
    db: Session = Depends(get_db)
):
    user = get_current_user(request, db)
    if not user:
        return RedirectResponse(url="/login.html", status_code=303)

    try:
        cart_data = json.loads(cart_json)
    except:
        return "Błąd danych koszyka"

    if not cart_data:
        return "Koszyk pusty"

    # 1. Tworzymy nowy adres w bazie dla tego zamówienia (bezpieczeństwo historii)
    #    lub można szukać duplikatu, ale dla prostoty tworzymy nowy.
    new_address = models.Adres(
        ulica=ulica,
        nr_domu=nr_domu,
        nr_lokalu=nr_lokalu,
        kod_pocztowy=kod_pocztowy,
        miejscowosc=miejscowosc
    )
    db.add(new_address)
    db.flush() # Żeby dostać ID adresu

    # 2. Obsługa adresu domyślnego
    # Jeśli użytkownik chce zapisać jako domyślny, musimy powiązać ten adres z klientem
    if save_default:
        # Najpierw "odznaczamy" poprzedni domyślny adres
        existing_defaults = db.query(models.KlientAdres).filter(
            models.KlientAdres.klient2id_klienta == user.id_klienta,
            models.KlientAdres.czy_domyslny == True
        ).all()
        for ka in existing_defaults:
            ka.czy_domyslny = False
        
        # Tworzymy nowe powiązanie w klient_adres
        new_link = models.KlientAdres(
            klient2id_klienta=user.id_klienta,
            adres2id_adresu=new_address.id_adresu,
            czy_domyslny=True
        )
        db.add(new_link)
    
    # Możemy też dodać powiązanie bez "czy_domyslny", żeby klient miał historię adresów,
    # ale skupmy się na wymaganiu.

    # 3. Obliczamy sumę
    total_price = 0.0
    order_items_objs = []

    for item in cart_data:
        p_id = int(item['id'])
        qty = int(item['qty'])
        product = db.query(models.ModelProduktu).filter(models.ModelProduktu.id_modelu == p_id).first()
        if product:
            total_price += product.cena_katalogowa * qty
            order_items_objs.append({
                "product": product,
                "qty": qty,
                "price": product.cena_katalogowa
            })

    # 4. Tworzymy zamówienie
    new_order = models.Zamowienie(
        numer_zamowienia=f"ORD-{int(datetime.now().timestamp())}",
        data_zlozenia=datetime.now(),
        status_zamowienia="Nowe",
        suma_calkowita=total_price,
        id_klienta=user.id_klienta,
        id_adresu=new_address.id_adresu,
        email_kontakt_do_zam=user.adres_email
    )
    db.add(new_order)
    db.flush()

    # 5. Pozycje zamówienia
    for item in order_items_objs:
        pos = models.PozycjaZamowienia(
            ilosc=item["qty"],
            cena_w_chwili_zakupu=item["price"],
            id_modelu=item["product"].id_modelu,
            id_zamowienia=new_order.id_zamowienia
        )
        db.add(pos)
        # Opcjonalnie: zmniejsz stan magazynowy
        item["product"].stan_magazynowy -= item["qty"]

    db.commit()

    # Przekierowanie do szczegółów tego zamówienia + czyszczenie koszyka (frontend musi wyczyścić po redirectcie,
    # ale tutaj robimy proste przekierowanie. JS na stronie sukcesu może wyczyścić localStorage).
    # Prostszą metodą jest przekierowanie do strony z parametrem ?clear_cart=1
    return RedirectResponse(url=f"/zamowienie/{new_order.id_zamowienia}?clear_cart=1", status_code=303)


@app.get("/zamowienie/{order_id}")
def order_details(request: Request, order_id: int, db: Session = Depends(get_db)):
    user = get_current_user(request, db)
    if not user:
        return RedirectResponse(url="/login.html")
    
    order = db.query(models.Zamowienie).filter(
        models.Zamowienie.id_zamowienia == order_id,
        models.Zamowienie.id_klienta == user.id_klienta
    ).first()
    
    if not order:
        return "Nie znaleziono zamówienia."
    
    # Pobierz adres powiązany z zamówieniem
    adres = db.query(models.Adres).filter(models.Adres.id_adresu == order.id_adresu).first()

    items = db.query(models.PozycjaZamowienia).filter(
        models.PozycjaZamowienia.id_zamowienia == order_id
    ).all()
    
    return templates.TemplateResponse("szczegoly_zamowienia.html", {
        "request": request, 
        "order": order, 
        "items": items,
        "adres": adres,
        "user": user
    })

# --- POZOSTAŁE (Login, Register, itp) ---
@app.get("/login.html")
def login_page(request: Request): return templates.TemplateResponse("login.html", {"request": request})

@app.post("/login")
def login_user(request: Request, email: str = Form(...), password: str = Form(...), db: Session = Depends(get_db)):
    user = db.query(models.Klient).filter(models.Klient.adres_email == email).first()
    if not user or user.haslo_hash != password:
        return templates.TemplateResponse("login.html", {"request": request, "error": "Błędny email lub hasło"})
    request.session["user_id"] = user.id_klienta
    return RedirectResponse(url="/", status_code=303)

@app.get("/logout")
def logout(request: Request):
    request.session.clear()
    return RedirectResponse(url="/", status_code=303)

@app.get("/rejestracja.html")
def register_page(request: Request): return templates.TemplateResponse("rejestracja.html", {"request": request})

@app.post("/register")
def register_user(imie: str = Form(...), nazwisko: str = Form(...), email: str = Form(...), password: str = Form(...), db: Session = Depends(get_db)):
    if db.query(models.Klient).filter(models.Klient.adres_email == email).first(): return "Email zajęty"
    new_user = models.Klient(imie=imie, nazwisko=nazwisko, adres_email=email, haslo_hash=password, data_rejestracji=datetime.now())
    try: db.add(new_user); db.commit()
    except: db.rollback()
    return RedirectResponse(url="/login.html", status_code=303)

@app.get("/konto.html")
def account_page(request: Request, db: Session = Depends(get_db)):
    user = get_current_user(request, db)
    if not user: return RedirectResponse(url="/login.html")
    orders = db.query(models.Zamowienie).filter(models.Zamowienie.id_klienta == user.id_klienta).order_by(models.Zamowienie.data_zlozenia.desc()).all()
    return templates.TemplateResponse("konto.html", {"request": request, "user": user, "orders": orders})

@app.get("/koszyk.html")
def cart_page(request: Request, db: Session = Depends(get_db)):
    user = get_current_user(request, db)
    return templates.TemplateResponse("koszyk.html", {"request": request, "user": user})

@app.get("/szczegoly.html")
def details_page(request: Request, id: int = None, db: Session = Depends(get_db)):
    product = None
    if id: product = db.query(models.ModelProduktu).filter(models.ModelProduktu.id_modelu == id).first()
    return templates.TemplateResponse("szczegoly.html", {"request": request, "product": product})

====================
PLIK: models.py
====================
from sqlalchemy import Column, Integer, String, Boolean, Float, Numeric, DateTime, Text, ForeignKey, Date
from sqlalchemy.orm import relationship
from database import Base
from datetime import datetime

# --- TABELE ---

class Adres(Base):
    __tablename__ = "adres"
    id_adresu = Column(Integer, primary_key=True, index=True)
    ulica = Column(String(100))
    nr_domu = Column(String(10), nullable=False)
    nr_lokalu = Column(String(10), nullable=True)
    kod_pocztowy = Column(String(6), nullable=False)
    miejscowosc = Column(String(50), nullable=False)

class Rola(Base):
    __tablename__ = "rola"
    id_roli = Column(Integer, primary_key=True, index=True)
    nazwa_roli = Column(String(30), nullable=False)

class Klient(Base):
    __tablename__ = "klient"
    id_klienta = Column(Integer, primary_key=True, index=True)
    imie = Column(String(50), nullable=False)
    drugie_imie = Column(String(50), nullable=True)
    nazwisko = Column(String(50), nullable=False)
    adres_email = Column(String(40), unique=True, nullable=False)
    haslo_hash = Column(String(255), nullable=False)
    data_rejestracji = Column(DateTime, default=datetime.now, nullable=False)

class KlientAdres(Base):
    __tablename__ = "klient_adres"
    # Klucz złożony (composite key) zgodnie z Twoim SQL
    klient2id_klienta = Column(Integer, ForeignKey("klient.id_klienta"), primary_key=True)
    adres2id_adresu = Column(Integer, ForeignKey("adres.id_adresu"), primary_key=True)
    czy_domyslny = Column(Boolean, default=False)

class Pracownik(Base):
    __tablename__ = "pracownik"
    id_pracownika = Column(Integer, primary_key=True, index=True)
    login = Column(String(50), unique=True, nullable=False)
    haslo_hash = Column(String(255), nullable=False)
    imie = Column(String(50), nullable=False)
    nazwisko = Column(String(50), nullable=False)
    plec = Column(Text, nullable=True)
    id_roli = Column(Integer, ForeignKey("rola.id_roli"), nullable=False)

class Kategoria(Base):
    __tablename__ = "kategoria"
    id_kategorii = Column(Integer, primary_key=True, index=True)
    nazwa_kategorii = Column(String(50), nullable=False)
    opis_kategorii = Column(String(255))

class ModelProduktu(Base):
    __tablename__ = "model_produktu"
    id_modelu = Column(Integer, primary_key=True, index=True)
    nazwa_modelu = Column(String(100), nullable=False)
    opis = Column(Text, nullable=True)
    cena_katalogowa = Column(Float, nullable=False) 
    zdjecie_url = Column(String(255), nullable=True)
    stan_magazynowy = Column(Integer, default=100)
    id_kategorii = Column(Integer, ForeignKey("kategoria.id_kategorii"), nullable=False)

class Zamowienie(Base):
    __tablename__ = "zamowienie"
    id_zamowienia = Column(Integer, primary_key=True, index=True)
    numer_zamowienia = Column(String(50), unique=True, nullable=False)
    data_zlozenia = Column(DateTime, nullable=False)
    status_zamowienia = Column(String(20), nullable=False)
    suma_calkowita = Column(Float, nullable=False)
    
    telefon_kontakt_do_zam = Column(String(9), nullable=True)
    email_kontakt_do_zam = Column(String(40), nullable=True)

    id_klienta = Column(Integer, ForeignKey("klient.id_klienta"), nullable=False)
    id_adresu = Column(Integer, ForeignKey("adres.id_adresu"), nullable=False)

class PozycjaZamowienia(Base):
    __tablename__ = "pozycja_zamowienia"
    id_pozycji = Column(Integer, primary_key=True, index=True)
    ilosc = Column(Integer, nullable=False)
    cena_w_chwili_zakupu = Column(Float, nullable=False)
    
    id_modelu = Column(Integer, ForeignKey("model_produktu.id_modelu"), nullable=False)
    id_zamowienia = Column(Integer, ForeignKey("zamowienie.id_zamowienia"), nullable=False)

    model = relationship("ModelProduktu")

class LogZmianaStatusu(Base):
    __tablename__ = "log_zmiana_statusu"
    id_logu = Column(Integer, primary_key=True, index=True)
    stary_status = Column(Text)
    nowy_status = Column(Text)
    data_zmiany = Column(Date)
    id_zamowienia = Column(Integer, ForeignKey("zamowienie.id_zamowienia"), nullable=False)
    id_pracownika = Column(Integer, ForeignKey("pracownik.id_pracownika"), nullable=False)

====================
PLIK: readme.txt
====================
instalacja requirementsow: pip install -r requirements.txt

uruchomienie: uvicorn main:app --reload

Get-ChildItem -Recurse -File -Exclude "*.exe","*.jpg","*.png","*.pyc","*.git*","caly_projekt.txt" | Where-Object { $_.FullName -notmatch "venv|__pycache__|node_modules|.git" } | ForEach-Object { Add-Content -Path "caly_projekt.txt" -Value "`n====================`nPLIK: $($_.Name)`n===================="; Get-Content $_.FullName | Add-Content -Path "caly_projekt.txt" }

====================
PLIK: requirements.txt
====================
fastapi
uvicorn
sqlalchemy
psycopg2-binary
jinja2
python-dotenv
python-multipart
itsdangerous

====================
PLIK: schemas.py
====================
from pydantic import BaseModel
from typing import Optional
from decimal import Decimal

# --- Produkty ---
class ProductBase(BaseModel):
    nazwa_modelu: str
    cena_katalogowa: Decimal
    zdjecie_url: Optional[str] = None
    stan_magazynowy: int

    class Config:
        orm_mode = True

# --- Rejestracja ---
class UserCreate(BaseModel):
    imie: str
    nazwisko: str
    email: str
    password: str

# --- Login (Token) ---
class Token(BaseModel):
    access_token: str
    token_type: str
